<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RUM: Sensor Application</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Sensor Application<br>
<small>
[<a class="el" href="group__app.html">Sample Application</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for Sensor Application:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__sensors.png" border="0" alt="" usemap="#group____sensors_map">
<map name="group____sensors_map">
<area shape="rect" href="group__app.html" title="This is a sample application, intended to show how the Route Under MAC can be used..." alt="" coords="5,5,139,32"></map></td></tr></table></center>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This code demonstrates a simple wireless sensor network, where data collected by end nodes and routers is sent to the coordinator. 
<p>
This application cooperates with the default <a class="el" href="group__app.html">Sample Application</a>, and can be left out of the compilation if desired by setting the <a class="el" href="group__app.html#gc4d049774203601b4c2d477b4f46dbe9">APP</a> flag to zero.<p>
For demonstration, it is possible to have sensor nodes send random data, which saves the effort of connecting real sensors to each node. To use this "random data" mode, set <a class="el" href="group__sensors.html#g56d52d2738e5c93e3360a339438082cf">SENSOR_TYPE</a> to <a class="el" href="group__sensors.html#g0db34a0a32664c41baf8a411f94af692">SENSOR_RANDOM_T</a> or <a class="el" href="group__sensors.html#gaacf427b057e083e3e587487fb616ef6">SENSOR_RANDOM_H</a>.<h2><a class="anchor" name="sleeping">
Sleeping and waking</a></h2>
The sensor application causes nodes to sleep and wake. The idea is that an end node can sleep for some interval while it is waiting to send a reading. When it is time to send a reading, the unit wakes up, captures a reading, transmits the reading to its parent, and then goes back to sleep.<p>
It is necessary to provide a way to wake up the node, so that we can change the data interval or to calibrate the node.<p>
The mechanism for doing this is to use the <a class="el" href="structftWake.html">ftWake</a> frame as a signal to wake up. When an end node is done tranmitting its data frame, it remains awake for a short period (about 50mSec) to be able to receive a wakeup frame from its parent. If no frame is received in that time, a timer expires and the node goes back to sleep. If a <a class="el" href="structftWake.html" title="Wake a child node.">ftWake</a> frame is received, then the node stays awake and stop sending frames. The node can now be calibrated or a new data interval can be set by sending the node an <a class="el" href="structsftRequestData.html">sftRequestData</a> frame.<h2><a class="anchor" name="sensorcalls">
Sensor application function calls</a></h2>
Here is a listing of how the various sensor calls are made to implement the various sensor functions.<p>
<div class="fragment"><pre class="fragment">
 Coordinator                 Frame type over the air             Router/End node

                                   Calibration

 sensorRequestCalInfo()    ---&gt; CAL_REQ_INFO_FRAME ---&gt;        sensorReplyCalInfo()
 sensorRcvCalInfo()        &lt;---   CAL_INFO_FRAME   &lt;---
 (Save cal info)
 sensorSendCalPoint()      ---&gt;    CAL_CMD_FRAME   ---&gt;        sensorRcvCalCommand()
                                                                (calibrate sensor)
 sensorSendCalPoint()      ---&gt;    CAL_CMD_FRAME   ---&gt;        sensorRcvCalCommand()
  (if 2-point cal)                                              (calibrate sensor)


                                    Read Data

 sensorRequestReading()    ---&gt;  REQ_READING_FRAME ---&gt;        sensorSendReading()
 sensorRcvReading()        &lt;---    READING_FRAME   &lt;---        sendReading()
  (do something with reading)

                                    Node Name

 sensorSendSetNodeName()   ---&gt;    SET_NODE_NAME   ---&gt;        sensorSetNodeNameRcv()

                                                                (set node name)
 (to retrieve the node name,
 just get a data packet, which
 contains the node name.)
   </pre></div><h2><a class="anchor" name="contdata">
Sending data continuously</a></h2>
When the <a class="el" href="group__sensors.html#g32bb0a72bd1635959ac4397db317edae" title="Request a reading from a sensor node.">sensorRequestReading()</a> function is called on the coordinator, the sensor node is directed to report data periodically back to the coordinator. The <em>time</em> argument to this function sets the interval between readings, in tenths of a second. This value is stored in EEPROM, and the unit will resume sending data after a power cycle.<h2><a class="anchor" name="data_structures">
Data Structures</a></h2>
The structures listed above describe the frames sent between a sensor node and the coordinator. The 'sft' prefix stands for "sensor frame type". 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftSensorReading.html">sftSensorReading</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sensor reading packet, sent by sensor node to report its data to the coordinator.  <a href="structsftSensorReading.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftRequest.html">sftRequest</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sensor calibration request packet, sent by coordinator to ask sensor node to reply with its cal info.  <a href="structsftRequest.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftRequestData.html">sftRequestData</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sensor data request packet, sent by coordinator to ask sensor node to reply with its computed data.  <a href="structsftRequestData.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftCalInfo.html">sftCalInfo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sensor calibration info packet, sent by sensor node to report its data to the coordinator.  <a href="structsftCalInfo.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftSetName.html">sftSetName</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change name of node packet, sent to sensor node.  <a href="structsftSetName.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftRawData.html">sftRawData</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Raw data (A/D reading) from a sensor node.  <a href="structsftRawData.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsftCalCommand.html">sftCalCommand</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calibration command frame, sent from the coordinator to a end/router node, commanding the node to perform a calibration.  <a href="structsftCalCommand.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtCalFactors.html">tCalFactors</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calibration data, stored in EEPROM.  <a href="structtCalFactors.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Coordinator sensor functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g32bb0a72bd1635959ac4397db317edae">sensorRequestReading</a> (u16 addr, u16 time)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request a reading from a sensor node.  <a href="#g32bb0a72bd1635959ac4397db317edae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g7be640146ea956f71c4540c1b247567c">sensorRequestCalInfo</a> (u16 addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request an end node to send its calibration information.  <a href="#g7be640146ea956f71c4540c1b247567c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g566c7c64eb08b1eae64699a6d5c92b56"></a><!-- doxytag: member="sensors::sensorRequestRawData" ref="g566c7c64eb08b1eae64699a6d5c92b56" args="(u16 addr)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorRequestRawData</b> (u16 addr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g0717b6140ef26cb1daa46ac31113f034">sensorSendSetNodeName</a> (u16 addr, char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the name of the sensor name.  <a href="#g0717b6140ef26cb1daa46ac31113f034"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4f1c15f16bba85d1ee499cc5da6b71bb"></a><!-- doxytag: member="sensors::sensorRcvReading" ref="g4f1c15f16bba85d1ee499cc5da6b71bb" args="(sftSensorReading *reading)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorRcvReading</b> (<a class="el" href="structsftSensorReading.html">sftSensorReading</a> *reading)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gef5b1118e2864ae50c862f2ed2a2bf7b"></a><!-- doxytag: member="sensors::sensorSendCalPoint" ref="gef5b1118e2864ae50c862f2ed2a2bf7b" args="(u8 index, char *str)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorSendCalPoint</b> (u8 index, char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g2325880cddd8e5d5a5483312507a6ae2">sensorCalProcess</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Coord node calibration routine.  <a href="#g2325880cddd8e5d5a5483312507a6ae2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g18a4019e7e397a1127dc4f90ffdbf1b9">sensorRcvCalInfo</a> (<a class="el" href="structsftCalInfo.html">sftCalInfo</a> *calInfo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback function to receive calibration information from a sensor node.  <a href="#g18a4019e7e397a1127dc4f90ffdbf1b9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf8a4a12a2942c1d93fc907739f7af8da"></a><!-- doxytag: member="sensors::sensorRcvRawData" ref="gf8a4a12a2942c1d93fc907739f7af8da" args="(sftRawData *rawData)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorRcvRawData</b> (<a class="el" href="structsftRawData.html">sftRawData</a> *rawData)</td></tr>

<tr><td colspan="2"><br><h2>Router/End node sensor functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g30d62befb8ff70a3413363f9741c5c2c"></a><!-- doxytag: member="sensors::sensorReplyRawData" ref="g30d62befb8ff70a3413363f9741c5c2c" args="(sftRequest *req)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g30d62befb8ff70a3413363f9741c5c2c">sensorReplyRawData</a> (<a class="el" href="structsftRequest.html">sftRequest</a> *req)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sensor node sends raw data back to coordinator. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g27aa86af18c21fd90e7040fc61c1fa2c"></a><!-- doxytag: member="sensors::sensorReplyCalInfo" ref="g27aa86af18c21fd90e7040fc61c1fa2c" args="(sftRequest *req)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorReplyCalInfo</b> (<a class="el" href="structsftRequest.html">sftRequest</a> *req)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd774a1a95f46fb716fc90fc58775bb8e"></a><!-- doxytag: member="sensors::sensorRcvCalCommand" ref="gd774a1a95f46fb716fc90fc58775bb8e" args="(sftCalCommand *calCommand)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorRcvCalCommand</b> (<a class="el" href="structsftCalCommand.html">sftCalCommand</a> *calCommand)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g9f25b70e33d153f1ba8b395c0b8048d6"></a><!-- doxytag: member="sensors::sensorSleep" ref="g9f25b70e33d153f1ba8b395c0b8048d6" args="(void)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>sensorSleep</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gc4fd19ca8f3d53a6d64bc4869713acbb"></a><!-- doxytag: member="sensors::sendReading" ref="gc4fd19ca8f3d53a6d64bc4869713acbb" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb">sendReading</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a single reading to the coordinator and go to sleep if required. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gc19b9d07f0d5fbd26244c134f727a6a5"></a><!-- doxytag: member="sensors::sensorPacketSendSucceed" ref="gc19b9d07f0d5fbd26244c134f727a6a5" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gc19b9d07f0d5fbd26244c134f727a6a5">sensorPacketSendSucceed</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This node has successfully sent a packet, and this function is called when that happens. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1e9d45b57b1e75c02f3f03ea08116bd8"></a><!-- doxytag: member="sensors::sensorPacketSendFailed" ref="g1e9d45b57b1e75c02f3f03ea08116bd8" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g1e9d45b57b1e75c02f3f03ea08116bd8">sensorPacketSendFailed</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This node has failed to send a packet. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd9a0ce8079a3c9aeb57f592608a4fd2d"></a><!-- doxytag: member="sensors::sensorLostNetwork" ref="gd9a0ce8079a3c9aeb57f592608a4fd2d" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gd9a0ce8079a3c9aeb57f592608a4fd2d">sensorLostNetwork</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This node has lost its network connection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g2e7afcc8044d96300ecb9dc6d42aaf3d">sensorSendReading</a> (<a class="el" href="structsftRequestData.html">sftRequestData</a> *req)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a sensor reading to coordinator.  <a href="#g2e7afcc8044d96300ecb9dc6d42aaf3d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Sensor types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g0db34a0a32664c41baf8a411f94af692"></a><!-- doxytag: member="sensors::SENSOR_RANDOM_T" ref="g0db34a0a32664c41baf8a411f94af692" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g0db34a0a32664c41baf8a411f94af692">SENSOR_RANDOM_T</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Random temperature for demo. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gaacf427b057e083e3e587487fb616ef6"></a><!-- doxytag: member="sensors::SENSOR_RANDOM_H" ref="gaacf427b057e083e3e587487fb616ef6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gaacf427b057e083e3e587487fb616ef6">SENSOR_RANDOM_H</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Random humidity for demo. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb97b22899011d3109857adf5da5ee853"></a><!-- doxytag: member="sensors::SENSOR_THERMIST" ref="gb97b22899011d3109857adf5da5ee853" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gb97b22899011d3109857adf5da5ee853">SENSOR_THERMIST</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thermistor sensor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2164e5262df2b20e15e1a91d6ec02199"></a><!-- doxytag: member="sensors::SENSOR_TMP275" ref="g2164e5262df2b20e15e1a91d6ec02199" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g2164e5262df2b20e15e1a91d6ec02199">SENSOR_TMP275</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Digital temperature sensor Burr-Brown TMP275. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g7efdcb7e253d5d20d7b363187fbac5fb"></a><!-- doxytag: member="sensors::SENSOR_NET" ref="g7efdcb7e253d5d20d7b363187fbac5fb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g7efdcb7e253d5d20d7b363187fbac5fb">SENSOR_NET</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Network stats. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge82bc89269f3ed43b599beb9b4c1e9da"></a><!-- doxytag: member="sensors::SENSOR_DSK_ACEL" ref="ge82bc89269f3ed43b599beb9b4c1e9da" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#ge82bc89269f3ed43b599beb9b4c1e9da">SENSOR_DSK_ACEL</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DSK001 accelerometer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g41697efb33aa9689544655352258fb9c"></a><!-- doxytag: member="sensors::SENSOR_DSK_TEMP" ref="g41697efb33aa9689544655352258fb9c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g41697efb33aa9689544655352258fb9c">SENSOR_DSK_TEMP</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DSK001 temp sensor (on-board AVR). <br></td></tr>
<tr><td colspan="2"><br><h2>Sensor frame types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf043ffbaded29195355d60ecedaefc1e"></a><!-- doxytag: member="sensors::SET_NODE_NAME" ref="gf043ffbaded29195355d60ecedaefc1e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gf043ffbaded29195355d60ecedaefc1e">SET_NODE_NAME</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame directing the node to change its name string. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g39dad5365f757af1ab4df17205094824"></a><!-- doxytag: member="sensors::REQ_READING_FRAME" ref="g39dad5365f757af1ab4df17205094824" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g39dad5365f757af1ab4df17205094824">REQ_READING_FRAME</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame requesting that a node begin sending sensor readings. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g57f3ac36ac51b7d968a434bdb8a3c962"></a><!-- doxytag: member="sensors::READING_FRAME" ref="g57f3ac36ac51b7d968a434bdb8a3c962" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g57f3ac36ac51b7d968a434bdb8a3c962">READING_FRAME</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame containing a node's sensor reading. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1af9df1e7fdcaf557f95d5d22e5320b9"></a><!-- doxytag: member="sensors::CAL_REQ_INFO_FRAME" ref="g1af9df1e7fdcaf557f95d5d22e5320b9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g1af9df1e7fdcaf557f95d5d22e5320b9">CAL_REQ_INFO_FRAME</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame requesting a node's calibration information. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf61540ef7a529a49a59b35bb0ed504c4"></a><!-- doxytag: member="sensors::CAL_INFO_FRAME" ref="gf61540ef7a529a49a59b35bb0ed504c4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gf61540ef7a529a49a59b35bb0ed504c4">CAL_INFO_FRAME</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame containing a node's calibration information. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gfcd0ac780c55f3688b1558be01eb7171"></a><!-- doxytag: member="sensors::REQ_RAW_DATA_FRAME" ref="gfcd0ac780c55f3688b1558be01eb7171" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gfcd0ac780c55f3688b1558be01eb7171">REQ_RAW_DATA_FRAME</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame requesting a node's raw data (A/D) readings. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3a1beefd72052f2815d7cf10b229d5f4"></a><!-- doxytag: member="sensors::RAW_DATA_FRAME" ref="g3a1beefd72052f2815d7cf10b229d5f4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g3a1beefd72052f2815d7cf10b229d5f4">RAW_DATA_FRAME</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame containing a node's raw data (A/D) readings. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3f545c09e20bfb392502eb3808272f98"></a><!-- doxytag: member="sensors::CAL_CMD_FRAME" ref="g3f545c09e20bfb392502eb3808272f98" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g3f545c09e20bfb392502eb3808272f98">CAL_CMD_FRAME</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame sent from coordinator commanding a node to perform a calibration. <br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4a713fe1947b9fbecad7a7e84ac721ec"></a><!-- doxytag: member="sensors::CAL" ref="g4a713fe1947b9fbecad7a7e84ac721ec" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g4a713fe1947b9fbecad7a7e84ac721ec">CAL</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calibration flag, only compiles calibration code in if the flag is set. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g56d52d2738e5c93e3360a339438082cf"></a><!-- doxytag: member="sensors::SENSOR_TYPE" ref="g56d52d2738e5c93e3360a339438082cf" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g56d52d2738e5c93e3360a339438082cf">SENSOR_TYPE</a>&nbsp;&nbsp;&nbsp;SENSOR_RANDOM_H</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Definition of sensor type that this module will be using to collect data. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf71324c57f05ff9e24bd384925dd6b17"></a><!-- doxytag: member="sensors::NAME_LENGTH" ref="gf71324c57f05ff9e24bd384925dd6b17" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of node name string. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gaae5f0c0221a794b41194ff6eede970b"></a><!-- doxytag: member="sensors::REPORT_ALL" ref="gaae5f0c0221a794b41194ff6eede970b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gaae5f0c0221a794b41194ff6eede970b">REPORT_ALL</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Support for changing all node's interval response time. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g913e1051fb12e78a6174d8869a4b6ff3"></a><!-- doxytag: member="sensors::sensorGetReading" ref="g913e1051fb12e78a6174d8869a4b6ff3" args="(void)" -->
static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g913e1051fb12e78a6174d8869a4b6ff3">sensorGetReading</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates a sensor reading, or returns a fake sensor reading if <a class="el" href="group__sensors.html#g56d52d2738e5c93e3360a339438082cf">SENSOR_TYPE</a> is set to SENSOR_RANDOM. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g4320310b6bca7d1d72e8e3abc56bc348">sensorGetName</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the name of this node.  <a href="#g4320310b6bca7d1d72e8e3abc56bc348"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge0815bb7fb90effa997f450cedc67ec4"></a><!-- doxytag: member="sensors::sensorInit" ref="ge0815bb7fb90effa997f450cedc67ec4" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#ge0815bb7fb90effa997f450cedc67ec4">sensorInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the sensor system by configuring the A/D converter. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gcab00d2731b419ed4dbf8e29e57a712a">sensorAutoSendStart</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begin auto-sending data after powerup.  <a href="#gcab00d2731b419ed4dbf8e29e57a712a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g38d09386a3cbf1fa2e8296db204f1fdb">sensorCalBusy</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the node is engaged in a calibration process.  <a href="#g38d09386a3cbf1fa2e8296db204f1fdb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g16a00091e33ba95a882e79844b59d3fc">sensorSetNodeNameRcv</a> (char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the name of the sensor name.  <a href="#g16a00091e33ba95a882e79844b59d3fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gbaa8d61c91f652d5e95e2ec6c9f00b4d">sensorRcvPacket</a> (u8 *frame)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle a received packet.  <a href="#gbaa8d61c91f652d5e95e2ec6c9f00b4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g294a39a42680ce725580f509c3ab692e">allNodes</a> (u8 func, u16 val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">When called, this will either Ping or request data from all associated nodes.  <a href="#g294a39a42680ce725580f509c3ab692e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#ge148b7a530a32b86d057b5cf6e76427b">sixlowpan_sensorPerSend</a> (u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to send a UDP packet to the periodic address.  <a href="#ge148b7a530a32b86d057b5cf6e76427b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g791305218d50b24b349f438a400c4826">sixlowpan_sensorSend</a> (u16 addr, u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to send a UDP packet to a specific end-node.  <a href="#g791305218d50b24b349f438a400c4826"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g71646ae68963dafaac0092b91eb68604">sixlowpan_sensorReturn</a> (u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to send back a UDP packet to the source.  <a href="#g71646ae68963dafaac0092b91eb68604"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8b30ebe0133dac95776ec6431d889f7e"></a><!-- doxytag: member="sensors::frameInterval" ref="g8b30ebe0133dac95776ec6431d889f7e" args="" -->
u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#g8b30ebe0133dac95776ec6431d889f7e">frameInterval</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data interval setting. This is the time between frames in 1/10's of a second. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gca61063d93f93c75c7d196cac2c26940"></a><!-- doxytag: member="sensors::busyCal" ref="gca61063d93f93c75c7d196cac2c26940" args="" -->
static u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sensors.html#gca61063d93f93c75c7d196cac2c26940">busyCal</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is the cal process running? This flad is used to suppress user menus during calibration. <br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g294a39a42680ce725580f509c3ab692e"></a><!-- doxytag: member="sensors.h::allNodes" ref="g294a39a42680ce725580f509c3ab692e" args="(u8 func, u16 val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void allNodes           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
When called, this will either Ping or request data from all associated nodes. 
<p>
A reading interval can also be set if desired. 
<p>Definition at line <a class="el" href="rum__application_8c-source.html#l00828">828</a> of file <a class="el" href="rum__application_8c-source.html">rum_application.c</a>.</p>

<p>References <a class="el" href="rum__application_8c-source.html#l00819">allNodesCB()</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac__associate_8c-source.html#l01113">macGetNode()</a>, <a class="el" href="mac__data_8c-source.html#l00407">macPing()</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="mac__associate_8h-source.html#l00043">associatedNodes_t::nodeType</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="mac_8h-source.html#l00465">PING_REQ_FRAME</a>, <a class="el" href="sensors_8h-source.html#l00101">REPORT_ALL</a>, <a class="el" href="system_8h-source.html#l00500">SENSOR</a>, and <a class="el" href="sensors_8c-source.html#l00425">sensorRequestReading()</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00819">allNodesCB()</a>, and <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g294a39a42680ce725580f509c3ab692e_cgraph.png" border="0" usemap="#group__sensors_g294a39a42680ce725580f509c3ab692e_cgraph_map" alt=""></center>
<map name="group__sensors_g294a39a42680ce725580f509c3ab692e_cgraph_map">
<area shape="rect" href="group__app.html#g41510a26d416bb1f5c1833233468cf6c" title="This is used as the allNodes callback for repeating the function operation." alt="" coords="127,56,215,83"><area shape="rect" href="group__mac__associate.html#g553b1ee14bf13a99a122ff51176477fd" title="Gets one entry in the table of nodes." alt="" coords="415,5,511,32"><area shape="rect" href="group__mac__data.html#g7e4c5d07ec7a2622dabbcf51b1fe4ba9" title="Send a ping packet (either request or response) to another node." alt="" coords="427,107,499,133"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="591,107,689,133"><area shape="rect" href="group__sensors.html#g32bb0a72bd1635959ac4397db317edae" title="Request a reading from a sensor node." alt="" coords="385,157,540,184"><area shape="rect" href="group__app.html#g294a39a42680ce725580f509c3ab692e" title="When called, this will either Ping or request data from all associated nodes." alt="" coords="264,56,336,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gcab00d2731b419ed4dbf8e29e57a712a"></a><!-- doxytag: member="sensors.c::sensorAutoSendStart" ref="gcab00d2731b419ed4dbf8e29e57a712a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensorAutoSendStart           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Begin auto-sending data after powerup. 
<p>
The data is only sent if the node previously received a frame of type <a class="el" href="group__sensors.html#g39dad5365f757af1ab4df17205094824">REQ_READING_FRAME</a>. 
<p>Definition at line <a class="el" href="sensors_8c-source.html#l00390">390</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="sensors_8c-source.html#l00150">frameInterval</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="avr__timer_8c-source.html#l00287">macTimerEnd()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, and <a class="el" href="sensors_8c-source.html#l00842">sendReading()</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00555">appAssociateConfirm()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_gcab00d2731b419ed4dbf8e29e57a712a_cgraph.png" border="0" usemap="#group__sensors_gcab00d2731b419ed4dbf8e29e57a712a_cgraph_map" alt=""></center>
<map name="group__sensors_gcab00d2731b419ed4dbf8e29e57a712a_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="201,56,300,83"><area shape="rect" href="group__timer__module.html#g424100b5b43a9d709cec3d509ef6f48c" title="End the timer specified by ID, before it is expired." alt="" coords="200,107,301,134"><area shape="rect" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb" title="Send a single reading to the coordinator and go to sleep if required." alt="" coords="203,158,299,184"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="392,6,483,32"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="399,56,476,83"><area shape="rect" href="group__mac__data.html#g57df637c21a2060c49e6e19c09b38d30" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="377,107,497,134"><area shape="rect" href="group__radio.html#gb89f723b3d8357a3c254083b36bef539" title="Retrieves the saved LQI (Link Quality Indication) value." alt="" coords="360,158,515,184"><area shape="rect" href="group__sensors.html#g913e1051fb12e78a6174d8869a4b6ff3" title="Calculates a sensor reading, or returns a fake sensor reading if SENSOR_TYPE is set..." alt="" coords="373,208,501,235"><area shape="rect" href="group__avr6lowpan__example.html#ge148b7a530a32b86d057b5cf6e76427b" title="Called to send a UDP packet to the periodic address." alt="" coords="351,259,524,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g38d09386a3cbf1fa2e8296db204f1fdb"></a><!-- doxytag: member="sensors.c::sensorCalBusy" ref="g38d09386a3cbf1fa2e8296db204f1fdb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 sensorCalBusy           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if the node is engaged in a calibration process. 
<p>
This value is used to suppress the main menu operation during the calibration process.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the node is engaged (busy) with a calibration <p>
false if the node is not busy </dd></dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l00407">407</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="sensors_8c-source.html#l00207">busyCal</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2325880cddd8e5d5a5483312507a6ae2"></a><!-- doxytag: member="sensors.c::sensorCalProcess" ref="g2325880cddd8e5d5a5483312507a6ae2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sensorCalProcess           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Coord node calibration routine. 
<p>
This must be called repetitively because the sensor node must be queried constantly to get current A/D readings. 
<p>Definition at line <a class="el" href="sensors_8c-source.html#l00586">586</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="sensors_8c-source.html#l00207">busyCal</a>, <a class="el" href="sensors_8h-source.html#l00138">sftCalInfo::calType</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac_8h-source.html#l00273">DEBUG</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="mac_8h-source.html#l00177">SERIAL</a>, <a class="el" href="serial_8c-source.html#l00347">serial_gets()</a>, <a class="el" href="serial_8c-source.html#l00293">serial_ischar()</a>, and <a class="el" href="sensors_8h-source.html#l00140">sftCalInfo::units</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00664">sensorRcvCalInfo()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g2325880cddd8e5d5a5483312507a6ae2_cgraph.png" border="0" usemap="#group__sensors_g2325880cddd8e5d5a5483312507a6ae2_cgraph_map" alt=""></center>
<map name="group__sensors_g2325880cddd8e5d5a5483312507a6ae2_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="183,56,281,82"><area shape="rect" href="group__serial.html#gc0ee16939b4816b2ca3bb093c6891739" title="Captures a string from serial port." alt="" coords="191,106,273,133"><area shape="rect" href="group__serial.html#g46a01c0d9f12d9deaf905f76463175ac" title="Check to see if any characters are waiting in the serial input buffer." alt="" coords="185,157,279,184"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="337,5,428,32"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="344,56,421,82"><area shape="rect" href="group__serial.html#g4b0fa10a931750ad29deb068cfd1e54b" title="Returns a character from the serial port." alt="" coords="332,106,433,133"><area shape="rect" href="group__serial.html#g10ca3a011a28e64adeb559fe71373c82" title="This function will place a character into the serial buffer." alt="" coords="332,157,433,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g4320310b6bca7d1d72e8e3abc56bc348"></a><!-- doxytag: member="sensors.c::sensorGetName" ref="g4320310b6bca7d1d72e8e3abc56bc348" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * sensorGetName           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the name of this node. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to the name of this node. </dd></dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l00319">319</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g18a4019e7e397a1127dc4f90ffdbf1b9"></a><!-- doxytag: member="sensors.c::sensorRcvCalInfo" ref="g18a4019e7e397a1127dc4f90ffdbf1b9" args="(sftCalInfo *calInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sensorRcvCalInfo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsftCalInfo.html">sftCalInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>calInfo</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function to receive calibration information from a sensor node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>calInfo</em>&nbsp;</td><td>Pointer to tCalInfo structure that contains the node's calibration information. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l00664">664</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac_8h-source.html#l00273">DEBUG</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, and <a class="el" href="sensors_8c-source.html#l00586">sensorCalProcess()</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l01028">sensorRcvPacket()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g18a4019e7e397a1127dc4f90ffdbf1b9_cgraph.png" border="0" usemap="#group__sensors_g18a4019e7e397a1127dc4f90ffdbf1b9_cgraph_map" alt=""></center>
<map name="group__sensors_g18a4019e7e397a1127dc4f90ffdbf1b9_cgraph_map">
<area shape="rect" href="group__sensors.html#g2325880cddd8e5d5a5483312507a6ae2" title="Coord node calibration routine." alt="" coords="173,56,301,83"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="351,6,449,32"><area shape="rect" href="group__serial.html#gc0ee16939b4816b2ca3bb093c6891739" title="Captures a string from serial port." alt="" coords="359,56,441,83"><area shape="rect" href="group__serial.html#g46a01c0d9f12d9deaf905f76463175ac" title="Check to see if any characters are waiting in the serial input buffer." alt="" coords="353,107,447,134"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gbaa8d61c91f652d5e95e2ec6c9f00b4d"></a><!-- doxytag: member="sensors.c::sensorRcvPacket" ref="gbaa8d61c91f652d5e95e2ec6c9f00b4d" args="(u8 *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensorRcvPacket           </td>
          <td>(</td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle a received packet. 
<p>
The packet is a data packet addressed to this node. This function applies to the coordinator and router/end nodes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>frame</em>&nbsp;</td><td>Pointer to the frame payload. See <a class="el" href="structftData.html">ftData</a>. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l01028">1028</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="sensors_8h-source.html#l00094">CAL_CMD_FRAME</a>, <a class="el" href="sensors_8h-source.html#l00091">CAL_INFO_FRAME</a>, <a class="el" href="sensors_8h-source.html#l00090">CAL_REQ_INFO_FRAME</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="sensors_8h-source.html#l00093">RAW_DATA_FRAME</a>, <a class="el" href="sensors_8h-source.html#l00089">READING_FRAME</a>, <a class="el" href="sensors_8h-source.html#l00092">REQ_RAW_DATA_FRAME</a>, <a class="el" href="sensors_8h-source.html#l00088">REQ_READING_FRAME</a>, <a class="el" href="sensors_8c-source.html#l00664">sensorRcvCalInfo()</a>, <a class="el" href="sensors_8c-source.html#l00700">sensorReplyRawData()</a>, <a class="el" href="sensors_8c-source.html#l00976">sensorSendReading()</a>, <a class="el" href="sensors_8c-source.html#l01011">sensorSetNodeNameRcv()</a>, and <a class="el" href="sensors_8h-source.html#l00087">SET_NODE_NAME</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00468">appDataIndication()</a>, and <a class="el" href="avr__sixlowpan__application_8c-source.html#l00161">sixlowpan_udp_usercall()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_gbaa8d61c91f652d5e95e2ec6c9f00b4d_cgraph.png" border="0" usemap="#group__sensors_gbaa8d61c91f652d5e95e2ec6c9f00b4d_cgraph_map" alt=""></center>
<map name="group__sensors_gbaa8d61c91f652d5e95e2ec6c9f00b4d_cgraph_map">
<area shape="rect" href="group__sensors.html#g18a4019e7e397a1127dc4f90ffdbf1b9" title="Callback function to receive calibration information from a sensor node." alt="" coords="199,38,319,64"><area shape="rect" href="group__sensors.html#g30d62befb8ff70a3413363f9741c5c2c" title="Sensor node sends raw data back to coordinator." alt="" coords="187,183,331,210"><area shape="rect" href="group__sensors.html#g2e7afcc8044d96300ecb9dc6d42aaf3d" title="Send a sensor reading to coordinator." alt="" coords="191,120,327,147"><area shape="rect" href="group__sensors.html#g16a00091e33ba95a882e79844b59d3fc" title="Set the name of the sensor name." alt="" coords="176,234,341,260"><area shape="rect" href="group__sensors.html#g2325880cddd8e5d5a5483312507a6ae2" title="Coord node calibration routine." alt="" coords="407,6,535,32"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="612,31,711,58"><area shape="rect" href="group__mac__data.html#g57df637c21a2060c49e6e19c09b38d30" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="601,158,721,184"><area shape="rect" href="group__avr6lowpan__example.html#g71646ae68963dafaac0092b91eb68604" title="Called to send back a UDP packet to the source." alt="" coords="389,208,552,235"><area shape="rect" href="group__timer__module.html#g424100b5b43a9d709cec3d509ef6f48c" title="End the timer specified by ID, before it is expired." alt="" coords="420,158,521,184"><area shape="rect" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb" title="Send a single reading to the coordinator and go to sleep if required." alt="" coords="423,107,519,134"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g7be640146ea956f71c4540c1b247567c"></a><!-- doxytag: member="sensors.c::sensorRequestCalInfo" ref="g7be640146ea956f71c4540c1b247567c" args="(u16 addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensorRequestCalInfo           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request an end node to send its calibration information. 
<p>
When the node responds with the info, <a class="el" href="group__sensors.html#g18a4019e7e397a1127dc4f90ffdbf1b9">sensorRcvCalInfo()</a> is called.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Short address of node </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l00446">446</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="sensors_8h-source.html#l00090">CAL_REQ_INFO_FRAME</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac__data_8c-source.html#l00204">macDataRequest()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00958">sixlowpan_sensorSend()</a>, <a class="el" href="sensors_8h-source.html#l00137">sftCalInfo::type</a>, and <a class="el" href="sensors_8h-source.html#l00121">sftRequest::type</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g7be640146ea956f71c4540c1b247567c_cgraph.png" border="0" usemap="#group__sensors_g7be640146ea956f71c4540c1b247567c_cgraph_map" alt=""></center>
<map name="group__sensors_g7be640146ea956f71c4540c1b247567c_cgraph_map">
<area shape="rect" href="group__mac__data.html#g57df637c21a2060c49e6e19c09b38d30" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="220,31,340,58"><area shape="rect" href="group__avr6lowpan__example.html#g791305218d50b24b349f438a400c4826" title="Called to send a UDP packet to a specific end&#45;node." alt="" coords="203,132,357,159"><area shape="rect" href="group__mac__data.html#gecb7b33bf7233d79d0a261dca1943c56" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="459,6,595,32"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="411,56,643,83"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="439,107,615,134"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="405,158,648,184"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="415,208,639,235"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="419,259,635,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g32bb0a72bd1635959ac4397db317edae"></a><!-- doxytag: member="sensors.c::sensorRequestReading" ref="g32bb0a72bd1635959ac4397db317edae" args="(u16 addr, u16 time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensorRequestReading           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request a reading from a sensor node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Short address of node being requested to send data</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>time</em>&nbsp;</td><td>Time to wait between readings, in 100mSec intervals. If time is zero, then only one reading will be sent. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l00425">425</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="system_8h-source.html#l00533">IPV6LOWPAN</a>, <a class="el" href="mac__data_8c-source.html#l00204">macDataRequest()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="sensors_8h-source.html#l00088">REQ_READING_FRAME</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00958">sixlowpan_sensorSend()</a>, <a class="el" href="sensors_8h-source.html#l00129">sftRequestData::time</a>, and <a class="el" href="sensors_8h-source.html#l00128">sftRequestData::type</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00828">allNodes()</a>, and <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g32bb0a72bd1635959ac4397db317edae_cgraph.png" border="0" usemap="#group__sensors_g32bb0a72bd1635959ac4397db317edae_cgraph_map" alt=""></center>
<map name="group__sensors_g32bb0a72bd1635959ac4397db317edae_cgraph_map">
<area shape="rect" href="group__mac__data.html#g57df637c21a2060c49e6e19c09b38d30" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="228,31,348,58"><area shape="rect" href="group__avr6lowpan__example.html#g791305218d50b24b349f438a400c4826" title="Called to send a UDP packet to a specific end&#45;node." alt="" coords="211,132,365,159"><area shape="rect" href="group__mac__data.html#gecb7b33bf7233d79d0a261dca1943c56" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="467,6,603,32"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="419,56,651,83"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="447,107,623,134"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="413,158,656,184"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="423,208,647,235"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="427,259,643,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g2e7afcc8044d96300ecb9dc6d42aaf3d"></a><!-- doxytag: member="sensors.c::sensorSendReading" ref="g2e7afcc8044d96300ecb9dc6d42aaf3d" args="(sftRequestData *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sensorSendReading           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsftRequestData.html">sftRequestData</a> *&nbsp;</td>
          <td class="paramname"> <em>req</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a sensor reading to coordinator. 
<p>
Also begin timer to continuously send frames. 
<p>Definition at line <a class="el" href="sensors_8c-source.html#l00976">976</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="sensors_8c-source.html#l00150">frameInterval</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="avr__timer_8c-source.html#l00287">macTimerEnd()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="sensors_8c-source.html#l00842">sendReading()</a>, <a class="el" href="mac_8h-source.html#l00706">macConfig_t::sleeping</a>, <a class="el" href="sensors_8h-source.html#l00129">sftRequestData::time</a>, and <a class="el" href="mac_8h-source.html#l00206">VLP</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l01028">sensorRcvPacket()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g2e7afcc8044d96300ecb9dc6d42aaf3d_cgraph.png" border="0" usemap="#group__sensors_g2e7afcc8044d96300ecb9dc6d42aaf3d_cgraph_map" alt=""></center>
<map name="group__sensors_g2e7afcc8044d96300ecb9dc6d42aaf3d_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="193,56,292,83"><area shape="rect" href="group__timer__module.html#g424100b5b43a9d709cec3d509ef6f48c" title="End the timer specified by ID, before it is expired." alt="" coords="192,107,293,134"><area shape="rect" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb" title="Send a single reading to the coordinator and go to sleep if required." alt="" coords="195,158,291,184"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="384,6,475,32"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="391,56,468,83"><area shape="rect" href="group__mac__data.html#g57df637c21a2060c49e6e19c09b38d30" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="369,107,489,134"><area shape="rect" href="group__radio.html#gb89f723b3d8357a3c254083b36bef539" title="Retrieves the saved LQI (Link Quality Indication) value." alt="" coords="352,158,507,184"><area shape="rect" href="group__sensors.html#g913e1051fb12e78a6174d8869a4b6ff3" title="Calculates a sensor reading, or returns a fake sensor reading if SENSOR_TYPE is set..." alt="" coords="365,208,493,235"><area shape="rect" href="group__avr6lowpan__example.html#ge148b7a530a32b86d057b5cf6e76427b" title="Called to send a UDP packet to the periodic address." alt="" coords="343,259,516,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g0717b6140ef26cb1daa46ac31113f034"></a><!-- doxytag: member="sensors.c::sensorSendSetNodeName" ref="g0717b6140ef26cb1daa46ac31113f034" args="(u16 addr, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensorSendSetNodeName           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the name of the sensor name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Short address of the node to be named. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>String that contains the new name. The max length is <a class="el" href="group__sensors.html#gf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a> bytes. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l00487">487</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac__data_8c-source.html#l00204">macDataRequest()</a>, <a class="el" href="sensors_8h-source.html#l00148">sftSetName::name</a>, <a class="el" href="sensors_8h-source.html#l00098">NAME_LENGTH</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="sensors_8h-source.html#l00087">SET_NODE_NAME</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00958">sixlowpan_sensorSend()</a>, and <a class="el" href="sensors_8h-source.html#l00147">sftSetName::type</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g0717b6140ef26cb1daa46ac31113f034_cgraph.png" border="0" usemap="#group__sensors_g0717b6140ef26cb1daa46ac31113f034_cgraph_map" alt=""></center>
<map name="group__sensors_g0717b6140ef26cb1daa46ac31113f034_cgraph_map">
<area shape="rect" href="group__mac__data.html#g57df637c21a2060c49e6e19c09b38d30" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="247,31,367,58"><area shape="rect" href="group__avr6lowpan__example.html#g791305218d50b24b349f438a400c4826" title="Called to send a UDP packet to a specific end&#45;node." alt="" coords="229,132,384,159"><area shape="rect" href="group__mac__data.html#gecb7b33bf7233d79d0a261dca1943c56" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="485,6,621,32"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="437,56,669,83"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="465,107,641,134"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="432,158,675,184"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="441,208,665,235"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="445,259,661,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g16a00091e33ba95a882e79844b59d3fc"></a><!-- doxytag: member="sensors.c::sensorSetNodeNameRcv" ref="g16a00091e33ba95a882e79844b59d3fc" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sensorSetNodeNameRcv           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the name of the sensor name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>String that contains the new name. The max length is <a class="el" href="group__sensors.html#gf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a> bytes. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sensors_8c-source.html#l01011">1011</a> of file <a class="el" href="sensors_8c-source.html">sensors.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="sensors_8h-source.html#l00098">NAME_LENGTH</a>, and <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l01028">sensorRcvPacket()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge148b7a530a32b86d057b5cf6e76427b"></a><!-- doxytag: member="sensors.h::sixlowpan_sensorPerSend" ref="ge148b7a530a32b86d057b5cf6e76427b" args="(u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_sensorPerSend           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to send a UDP packet to the periodic address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to data</td></tr>
  </table>
</dl>
This function is used to send a periodic sensor reading. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00974">974</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00295">DEFAULT_COORD_ADDR</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00942">sixlowpan_hc01_udp_setup_iplocal()</a>, and <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00842">sendReading()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_ge148b7a530a32b86d057b5cf6e76427b_cgraph.png" border="0" usemap="#group__sensors_ge148b7a530a32b86d057b5cf6e76427b_cgraph_map" alt=""></center>
<map name="group__sensors_ge148b7a530a32b86d057b5cf6e76427b_cgraph_map">
<area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="235,30,467,57"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="263,81,439,108"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="229,132,472,158"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="239,182,463,209"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="243,233,459,260"><area shape="rect" href="group__avr6lowpan.html#g9874ead3e9cba4ba09fe5e3fe1c80300" title="Calculates an IP checksum over a range of data." alt="" coords="591,5,657,32"><area shape="rect" href="group__avr6lowpan.html#g2d94f2a1492458c5441f91716757ef59" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="535,56,713,82"><area shape="rect" href="group__avr6lowpan.html#g44ca4c2a1ad826bcd3f5f1ec74699d49" title="Calculates the pseduo&#45;header checksum." alt="" coords="520,106,728,133"><area shape="rect" href="group__avr6lowpansleeping.html#gef1e61b10870db55337122c68bc1b1b9" title="Called when activity occurs on the node." alt="" coords="545,157,703,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g71646ae68963dafaac0092b91eb68604"></a><!-- doxytag: member="sensors.h::sixlowpan_sensorReturn" ref="g71646ae68963dafaac0092b91eb68604" args="(u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_sensorReturn           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to send back a UDP packet to the source. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to data</td></tr>
  </table>
</dl>
This function is used to respond to requests from the coordinator. For example calibration setup, etc. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00940">940</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00700">sensorReplyRawData()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g791305218d50b24b349f438a400c4826"></a><!-- doxytag: member="sensors.h::sixlowpan_sensorSend" ref="g791305218d50b24b349f438a400c4826" args="(u16 addr, u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_sensorSend           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to send a UDP packet to a specific end-node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Short address of node to send to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to data</td></tr>
  </table>
</dl>
This function is used to respond to send data from the coordinator to end nodes / routers. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00958">958</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00942">sixlowpan_hc01_udp_setup_iplocal()</a>, and <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00446">sensorRequestCalInfo()</a>, <a class="el" href="sensors_8c-source.html#l00425">sensorRequestReading()</a>, and <a class="el" href="sensors_8c-source.html#l00487">sensorSendSetNodeName()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__sensors_g791305218d50b24b349f438a400c4826_cgraph.png" border="0" usemap="#group__sensors_g791305218d50b24b349f438a400c4826_cgraph_map" alt=""></center>
<map name="group__sensors_g791305218d50b24b349f438a400c4826_cgraph_map">
<area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="213,30,445,57"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="241,81,417,108"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="208,132,451,158"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="217,182,441,209"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="221,233,437,260"><area shape="rect" href="group__avr6lowpan.html#g9874ead3e9cba4ba09fe5e3fe1c80300" title="Calculates an IP checksum over a range of data." alt="" coords="569,5,636,32"><area shape="rect" href="group__avr6lowpan.html#g2d94f2a1492458c5441f91716757ef59" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="513,56,692,82"><area shape="rect" href="group__avr6lowpan.html#g44ca4c2a1ad826bcd3f5f1ec74699d49" title="Calculates the pseduo&#45;header checksum." alt="" coords="499,106,707,133"><area shape="rect" href="group__avr6lowpansleeping.html#gef1e61b10870db55337122c68bc1b1b9" title="Called when activity occurs on the node." alt="" coords="524,157,681,184"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 8 18:38:55 2009 for RUM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
