<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RUM: 6LoWPAN Sleeping End Nodes Support</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>6LoWPAN Sleeping End Nodes Support<br>
<small>
[<a class="el" href="group__avr6lowpan.html">6LoWPAN implementation for AVR</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for 6LoWPAN Sleeping End Nodes Support:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__avr6lowpansleeping.png" border="0" alt="" usemap="#group____avr6lowpansleeping_map">
<map name="group____avr6lowpansleeping_map">
<area shape="rect" href="group__avr6lowpan.html" title="This (optional) component of RUM adds several interesting features to the RUM stack..." alt="" coords="5,5,229,32"></map></td></tr></table></center>
</div>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gf391c893199c85a4f07255d72babea66">VISUALIZE_SLEEPING</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Visualize the sleep cycle.  <a href="#gf391c893199c85a4f07255d72babea66"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1aac19adf2ae394503c5f04304c11123"></a><!-- doxytag: member="avr6lowpansleeping::SIXLOWPAN_PERIODIC_TIME" ref="g1aac19adf2ae394503c5f04304c11123" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g1aac19adf2ae394503c5f04304c11123">SIXLOWPAN_PERIODIC_TIME</a>&nbsp;&nbsp;&nbsp;<a class="el" href="group__avr6lowpansleeping.html#g8b30ebe0133dac95776ec6431d889f7e">frameInterval</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Time between node waking up and checking for traffic ( tenths of seconds). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd3898da24ecf9defc25c46d387097747"></a><!-- doxytag: member="avr6lowpansleeping::SIXLOWPAN_PERIODIC_APP_TIME" ref="gd3898da24ecf9defc25c46d387097747" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gd3898da24ecf9defc25c46d387097747">SIXLOWPAN_PERIODIC_APP_TIME</a>&nbsp;&nbsp;&nbsp;appInterval</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of SIXLOWPAN_PERIODIC_TIMEs between calling the periodic application. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf51587f7a3c3100074613f072607670c"></a><!-- doxytag: member="avr6lowpansleeping::SIXLOWPAN_TIMEOUT_MS" ref="gf51587f7a3c3100074613f072607670c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gf51587f7a3c3100074613f072607670c">SIXLOWPAN_TIMEOUT_MS</a>&nbsp;&nbsp;&nbsp;7000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timeout before node goes to sleep if no activity occurs (mS). <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g2d94f2a1492458c5441f91716757ef59">macsixlowpanDataRequest</a> (u16 addr, u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The macsixlowpanDataRequest function is used to send a frame over the air to another node.  <a href="#g2d94f2a1492458c5441f91716757ef59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gae5d355e600a14de30bf3e45b2301714">sixlowpan_application_periodic</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">6lowpan Periodic Function Call  <a href="#gae5d355e600a14de30bf3e45b2301714"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g9fc09673ee1cf13f594438c72f0b4567">sixlowpanSleep_dataReceived</a> (uint16_t src)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called whenever 6LoWPAN Data is received, to check if this data indicates a node that was asleep is now awake.  <a href="#g9fc09673ee1cf13f594438c72f0b4567"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g8ed242f475056abec283eca28f2e0188">sixlowpanSleep_wakeupSent</a> (uint16_t shortaddress, uip_ipaddr_t *ipaddr, uint16_t port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when the 'wakeup' command has been sent to an end node.  <a href="#g8ed242f475056abec283eca28f2e0188"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g7dcb53d8be7b6afea8f6ec13a2217a60">sixlowpanSleep_awakeReceived</a> (uint16_t shortaddress)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when the 'i am awake, anybody I should talk to?' command is received from an end node.  <a href="#g7dcb53d8be7b6afea8f6ec13a2217a60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g63b3d36dbd98ea58d7006bf6320f0cd5">sixlowpanSleep_packetFailed</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by RUM when sending a packet failed.  <a href="#g63b3d36dbd98ea58d7006bf6320f0cd5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g32224700ed6a788e0228d02bb70b507f">sixlowpanSleep_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initilize the sleep &amp; timing subroutines.  <a href="#g32224700ed6a788e0228d02bb70b507f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gbff6dd85e394e368fd9a96b93cea835d">sixlowpanSleep_sendAwake</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks for any pending messages.  <a href="#gbff6dd85e394e368fd9a96b93cea835d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gef1e61b10870db55337122c68bc1b1b9">sixlowpanSleep_activity</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when activity occurs on the node.  <a href="#gef1e61b10870db55337122c68bc1b1b9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g5d41e1c9e645c5bd9fa6518f5d6eafe4">sixlowpanSleep_timeout</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called whenever the node times out.  <a href="#g5d41e1c9e645c5bd9fa6518f5d6eafe4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6">sixlowpanSleep_periodic</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called periodically by the node.  <a href="#g82ac0055949c3812c0c6d86c56311be6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#ga026ffcf6668bb4cb0bd547bacb59dfe">sixlowpanSleep_checkSleep</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Will set the node to sleep if it should be sleeping.  <a href="#ga026ffcf6668bb4cb0bd547bacb59dfe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#gb980ba45b5cff1682d93c61611e64eda">sixlowpanSleep_setupPeriodic</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets up the periodic timer.  <a href="#gb980ba45b5cff1682d93c61611e64eda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g2b30ed3e5c17c260fe94b43c9b73c7b3">sixlowpanSleep_sleep</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Puts the node to sleep if it can.  <a href="#g2b30ed3e5c17c260fe94b43c9b73c7b3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g25b945246a33ccea555ae45a7f8806cf"></a><!-- doxytag: member="avr6lowpansleeping::wakeup_information" ref="g25b945246a33ccea555ae45a7f8806cf" args="[MAXNODES]" -->
t_wakeup_information&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g25b945246a33ccea555ae45a7f8806cf">wakeup_information</a> [MAXNODES]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A list of where each node should send it's wake-up packet. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8b30ebe0133dac95776ec6431d889f7e"></a><!-- doxytag: member="avr6lowpansleeping::frameInterval" ref="g8b30ebe0133dac95776ec6431d889f7e" args="" -->
u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpansleeping.html#g8b30ebe0133dac95776ec6431d889f7e">frameInterval</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data interval setting. This is the time between frames in 1/10's of a second. <br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="gf391c893199c85a4f07255d72babea66"></a><!-- doxytag: member="sixlowpan_wake.c::VISUALIZE_SLEEPING" ref="gf391c893199c85a4f07255d72babea66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VISUALIZE_SLEEPING          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Visualize the sleep cycle. 
<p>
Define VISUALIZE_SLEEPING to make LED 2 (when available) light up whenever the device is awake. This allows you to easily see when the device wakes up in response to a wake-up request. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00081">81</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g2d94f2a1492458c5441f91716757ef59"></a><!-- doxytag: member="sixlowpan_wake.c::macsixlowpanDataRequest" ref="g2d94f2a1492458c5441f91716757ef59" args="(u16 addr, u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macsixlowpanDataRequest           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The macsixlowpanDataRequest function is used to send a frame over the air to another node. 
<p>
Note that the IPV6LOWPAN flag must be set to use any 6LoWPAN functionality.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Short address of the destination node.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>The length of the packet in bytes.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to the data to be sent. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mac__data_8c-source.html#l00250">250</a> of file <a class="el" href="mac__data_8c-source.html">mac_data.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00468">DATA_FRAME_6LOWPAN</a>, <a class="el" href="system_8h-source.html#l00533">IPV6LOWPAN</a>, and <a class="el" href="mac__data_8c-source.html#l00111">macDataRequestInt()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_g2d94f2a1492458c5441f91716757ef59_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_g2d94f2a1492458c5441f91716757ef59_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_g2d94f2a1492458c5441f91716757ef59_cgraph_map">
<area shape="rect" href="group__mac__data.html#gecb7b33bf7233d79d0a261dca1943c56" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="232,132,368,159"><area shape="rect" href="group__mac__associate.html#g50c7dc74cfce8901fa59aa34c35f932e" title="Find the parent of a given node." alt="" coords="445,6,549,32"><area shape="rect" href="group__mac__data.html#g20399e489f449bd2026daec4606fc048" title="Save a frame for transmission later." alt="" coords="443,56,552,83"><area shape="rect" href="group__mac__associate.html#ged6df4ec4a8b1f717d6591f7bc73627a" title="Determine if a given node is a child if this node." alt="" coords="455,107,540,134"><area shape="rect" href="group__mac__associate.html#gbca0fd11d3bc8ac2f608958459d0279e" title="Determine if a given node is a sleeping child of this node." alt="" coords="429,158,565,184"><area shape="rect" href="group__mac.html#g2809f7f1254ef0b25b95136d2aff6b06" title="Create and send a routing packet, returns non&#45;zero if packet was sent." alt="" coords="417,208,577,235"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="448,259,547,286"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gae5d355e600a14de30bf3e45b2301714"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpan_application_periodic" ref="gae5d355e600a14de30bf3e45b2301714" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_application_periodic           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
6lowpan Periodic Function Call 
<p>
This function is called periodically, in this case it is used to send back sensor data as needed. The function waits<p>
If no application (<a class="el" href="group__app.html#gc4d049774203601b4c2d477b4f46dbe9">APP</a>) is defined, then this function does nothing. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">687</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="hal__avr_8h-source.html#l00135">HAL_INIT_ADC</a>, <a class="el" href="hal__avr_8h-source.html#l00143">HAL_READ_ADC</a>, <a class="el" href="hal__avr_8h-source.html#l00139">HAL_SAMPLE_ADC</a>, <a class="el" href="hal__avr_8h-source.html#l00141">HAL_WAIT_ADC</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="radio_8c-source.html#l01081">radioRandom()</a>, <a class="el" href="radio_8c-source.html#l00740">radioSetTrxState()</a>, <a class="el" href="at86rf23x__registermap_8h-source.html#l00078">RX_AACK_ON</a>, <a class="el" href="sensors_8c-source.html#l00842">sendReading()</a>, <a class="el" href="sensors_8h-source.html#l00060">SENSOR_TYPE</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">sixlowpan_application_periodic()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00886">sixlowpan_hc01_udp_setup_ipglobal()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>, and <a class="el" href="sixlowpan__wake_8h-source.html#l00051">SIXLOWPAN_PERIODIC_TIME</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">sixlowpan_application_periodic()</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00346">sixlowpanSleep_periodic()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_gae5d355e600a14de30bf3e45b2301714_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_gae5d355e600a14de30bf3e45b2301714_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_gae5d355e600a14de30bf3e45b2301714_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="573,31,672,57"><area shape="rect" href="group__radio.html#g301044554e9d047bf22935d01c615884" title="Returns a random number, composed of bits from the radio&#39;s random number generator..." alt="" coords="575,125,671,152"><area shape="rect" href="group__radio.html#g9c32d026c082234626f5f900077221bc" title="This function will change the current state of the radio transceiver&#39;s internal..." alt="" coords="564,176,681,203"><area shape="rect" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb" title="Send a single reading to the coordinator and go to sleep if required." alt="" coords="575,239,671,265"><area shape="rect" href="group__avr6lowpan__example.html#gae5d355e600a14de30bf3e45b2301714" title="6lowpan Periodic Function Call" alt="" coords="253,255,453,281"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="507,299,739,325"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="535,353,711,380"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="501,407,744,433"><area shape="rect" href="group__avr6lowpan.html#g805964e13e701bdde2a4058f8a44ce50" title="Setup a UDP packet for off&#45;link IP addresses." alt="" coords="507,457,739,484"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="515,508,731,535"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="817,5,908,32"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="824,56,901,83"><area shape="rect" href="group__arm.html#gbe3a54dd0c5f0231fb9ef72abd021486" title="This function reads the value of a specific subregister." alt="" coords="792,125,933,152"><area shape="rect" href="group__radio.html#g2976f50bf538933d7eba0444494d6289" title="Returns the radio part number." alt="" coords="803,176,923,203"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gef1e61b10870db55337122c68bc1b1b9"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_activity" ref="gef1e61b10870db55337122c68bc1b1b9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_activity           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when activity occurs on the node. 
<p>
This is used to reset the 'timeout' counter. Acivity counts as either data TX'd or RX'd. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00314">314</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="avr__timer_8c-source.html#l00133">macGetTime()</a>, and <a class="el" href="sixlowpan__wake_8h-source.html#l00059">SIXLOWPAN_TIMEOUT_MS</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan_8c-source.html#l01300">sixlowpan_DataIndication()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00563">sixlowpan_hc01_gen_na()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00660">sixlowpan_hc01_gen_rs()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00831">sixlowpan_hc01_ping_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00172">sixlowpan_hc01_process()</a>, and <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_gef1e61b10870db55337122c68bc1b1b9_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_gef1e61b10870db55337122c68bc1b1b9_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_gef1e61b10870db55337122c68bc1b1b9_cgraph_map">
<area shape="rect" href="group__timer__module.html#ga2ba6a5f4d933213f7046c8c90108551" title="macGetTime" alt="" coords="213,5,309,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g7dcb53d8be7b6afea8f6ec13a2217a60"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_awakeReceived" ref="g7dcb53d8be7b6afea8f6ec13a2217a60" args="(uint16_t shortaddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_awakeReceived           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>shortaddress</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the 'i am awake, anybody I should talk to?' command is received from an end node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shortaddress</em>&nbsp;</td><td>The address of the node which sent this request. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00172">172</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="sixlowpan__wake_8c-source.html#l00111">wakeup_information</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga026ffcf6668bb4cb0bd547bacb59dfe"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_checkSleep" ref="ga026ffcf6668bb4cb0bd547bacb59dfe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_checkSleep           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Will set the node to sleep if it should be sleeping. 
<p>
Calling this function causes the node to transmit a 'should i be awake' message, and if no response to go to sleep if sleeping is enabled. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00371">371</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="system_8h-source.html#l00522">RUMSLEEP</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00401">sixlowpanSleep_setupPeriodic()</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00432">sixlowpanSleep_sleep()</a>, and <a class="el" href="mac_8h-source.html#l00706">macConfig_t::sleeping</a>.</p>

<p>Referenced by <a class="el" href="sixlowpan__wake_8c-source.html#l00346">sixlowpanSleep_periodic()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_ga026ffcf6668bb4cb0bd547bacb59dfe_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_ga026ffcf6668bb4cb0bd547bacb59dfe_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_ga026ffcf6668bb4cb0bd547bacb59dfe_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="940,37,1039,64"><area shape="rect" href="group__avr6lowpansleeping.html#gb980ba45b5cff1682d93c61611e64eda" title="Sets up the periodic timer." alt="" coords="437,37,635,64"><area shape="rect" href="group__avr6lowpansleeping.html#g2b30ed3e5c17c260fe94b43c9b73c7b3" title="Puts the node to sleep if it can." alt="" coords="240,139,389,165"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="1132,37,1223,64"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="1139,88,1216,115"><area shape="rect" href="group__timer__module.html#g8cccbbd337a60847f767aaca9da9743e" title="A long&#45;delay timer function, which can delay for up to 15.7 hours." alt="" coords="925,88,1053,115"><area shape="rect" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6" title="Called periodically by the node." alt="" coords="684,139,847,165"><area shape="rect" href="group__avr6lowpansleeping.html#gbff6dd85e394e368fd9a96b93cea835d" title="Checks for any pending messages." alt="" coords="897,164,1081,191"><area shape="rect" href="group__sleep.html#g93b5cdc0c2f6e617c9e63fac53cc8271" title="Put the node to sleep." alt="" coords="495,240,577,267"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g9fc09673ee1cf13f594438c72f0b4567"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_dataReceived" ref="g9fc09673ee1cf13f594438c72f0b4567" args="(uint16_t src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_dataReceived           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>src</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function called whenever 6LoWPAN Data is received, to check if this data indicates a node that was asleep is now awake. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>The address of the node which received the data.</td></tr>
  </table>
</dl>
This function looks for UDP data sent to the IP address &amp; port where the 'wakeup' command should be sent. If it sees it, the node is marked as being awake. The data must be in normal IP format in uip_buf. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00125">125</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="sixlowpan__wake_8c-source.html#l00111">wakeup_information</a>.</p>

</div>
</div><p>
<a class="anchor" name="g32224700ed6a788e0228d02bb70b507f"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_init" ref="g32224700ed6a788e0228d02bb70b507f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initilize the sleep &amp; timing subroutines. 
<p>
This function must be called before any of the sleep code will work. Once started the sleep code takes care of restarting timers as needed, so no other user action is required. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00278">278</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="sixlowpan__wake_8c-source.html#l00401">sixlowpanSleep_setupPeriodic()</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan_8c-source.html#l00139">sixlowpan_init()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_g32224700ed6a788e0228d02bb70b507f_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_g32224700ed6a788e0228d02bb70b507f_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_g32224700ed6a788e0228d02bb70b507f_cgraph_map">
<area shape="rect" href="group__avr6lowpansleeping.html#gb980ba45b5cff1682d93c61611e64eda" title="Sets up the periodic timer." alt="" coords="189,25,387,52"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="649,25,748,52"><area shape="rect" href="group__timer__module.html#g8cccbbd337a60847f767aaca9da9743e" title="A long&#45;delay timer function, which can delay for up to 15.7 hours." alt="" coords="453,25,581,52"><area shape="rect" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6" title="Called periodically by the node." alt="" coords="436,76,599,103"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g63b3d36dbd98ea58d7006bf6320f0cd5"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_packetFailed" ref="g63b3d36dbd98ea58d7006bf6320f0cd5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_packetFailed           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called by RUM when sending a packet failed. 
<p>
If sending a packet failed, this might mean the node was asleep we were trying to send to. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00234">234</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00704">macConfig_t::lastDestAddr</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, and <a class="el" href="mac__associate_8c-source.html#l01151">macWakeChildNode()</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00309">appPacketSendFailed()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_g63b3d36dbd98ea58d7006bf6320f0cd5_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_g63b3d36dbd98ea58d7006bf6320f0cd5_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_g63b3d36dbd98ea58d7006bf6320f0cd5_cgraph_map">
<area shape="rect" href="group__mac__associate.html#g243906ca038a1601687f0aa66aa63973" title="Set a child node&#39;s entry to be woken up." alt="" coords="247,31,385,57"><area shape="rect" href="group__mac__associate.html#g50c7dc74cfce8901fa59aa34c35f932e" title="Find the parent of a given node." alt="" coords="447,5,551,32"><area shape="rect" href="group__mac__data.html#gda801fb2177a22220f4c3f3c9a8d1db0" title="The macWakeRequest function is called by the coordinator to send a wakeup packet..." alt="" coords="435,56,563,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g82ac0055949c3812c0c6d86c56311be6"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_periodic" ref="g82ac0055949c3812c0c6d86c56311be6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_periodic           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called periodically by the node. 
<p>
This function is called at a user-specified interval. Handles sleep timeouts &amp; calling the application periodic function. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00346">346</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">sixlowpan_application_periodic()</a>, <a class="el" href="sixlowpan__wake_8h-source.html#l00055">SIXLOWPAN_PERIODIC_APP_TIME</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00371">sixlowpanSleep_checkSleep()</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00290">sixlowpanSleep_sendAwake()</a>.</p>

<p>Referenced by <a class="el" href="sixlowpan__wake_8c-source.html#l00401">sixlowpanSleep_setupPeriodic()</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00432">sixlowpanSleep_sleep()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_g82ac0055949c3812c0c6d86c56311be6_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_g82ac0055949c3812c0c6d86c56311be6_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_g82ac0055949c3812c0c6d86c56311be6_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="539,31,637,57"><area shape="rect" href="group__avr6lowpan__example.html#gae5d355e600a14de30bf3e45b2301714" title="6lowpan Periodic Function Call" alt="" coords="219,183,419,209"><area shape="rect" href="group__avr6lowpansleeping.html#ga026ffcf6668bb4cb0bd547bacb59dfe" title="Will set the node to sleep if it should be sleeping." alt="" coords="225,101,412,128"><area shape="rect" href="group__avr6lowpansleeping.html#gbff6dd85e394e368fd9a96b93cea835d" title="Checks for any pending messages." alt="" coords="227,233,411,260"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="759,5,849,32"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="765,56,843,83"><area shape="rect" href="group__radio.html#g301044554e9d047bf22935d01c615884" title="Returns a random number, composed of bits from the radio&#39;s random number generator..." alt="" coords="540,81,636,108"><area shape="rect" href="group__radio.html#g9c32d026c082234626f5f900077221bc" title="This function will change the current state of the radio transceiver&#39;s internal..." alt="" coords="529,132,647,159"><area shape="rect" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb" title="Send a single reading to the coordinator and go to sleep if required." alt="" coords="540,183,636,209"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="472,233,704,260"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="500,284,676,311"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="467,335,709,361"><area shape="rect" href="group__avr6lowpan.html#g805964e13e701bdde2a4058f8a44ce50" title="Setup a UDP packet for off&#45;link IP addresses." alt="" coords="472,385,704,412"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="480,436,696,463"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gbff6dd85e394e368fd9a96b93cea835d"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_sendAwake" ref="gbff6dd85e394e368fd9a96b93cea835d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_sendAwake           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks for any pending messages. 
<p>
Sends an "I am awake, anybody I should talk to?" message to the edge router / coordinator. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00290">290</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00295">DEFAULT_COORD_ADDR</a>, <a class="el" href="mac__data_8c-source.html#l00250">macsixlowpanDataRequest()</a>, and <a class="el" href="system_8h-source.html#l00522">RUMSLEEP</a>.</p>

<p>Referenced by <a class="el" href="sixlowpan__wake_8c-source.html#l00346">sixlowpanSleep_periodic()</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00432">sixlowpanSleep_sleep()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_gbff6dd85e394e368fd9a96b93cea835d_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_gbff6dd85e394e368fd9a96b93cea835d_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_gbff6dd85e394e368fd9a96b93cea835d_cgraph_map">
<area shape="rect" href="group__avr6lowpan.html#g2d94f2a1492458c5441f91716757ef59" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="240,5,419,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gb980ba45b5cff1682d93c61611e64eda"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_setupPeriodic" ref="gb980ba45b5cff1682d93c61611e64eda" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_setupPeriodic           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets up the periodic timer. 
<p>
When called sets up a timer to call the <a class="el" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6" title="Called periodically by the node.">sixlowpanSleep_periodic()</a> function at the appropriate time. When the node is awake, this function will be called every time the <a class="el" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6" title="Called periodically by the node.">sixlowpanSleep_periodic()</a> function is called. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00401">401</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="avr__timer_8c-source.html#l00204">macSetLongAlarm()</a>, <a class="el" href="sixlowpan__wake_8h-source.html#l00051">SIXLOWPAN_PERIODIC_TIME</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00346">sixlowpanSleep_periodic()</a>.</p>

<p>Referenced by <a class="el" href="sixlowpan__wake_8c-source.html#l00371">sixlowpanSleep_checkSleep()</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00278">sixlowpanSleep_init()</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00432">sixlowpanSleep_sleep()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_gb980ba45b5cff1682d93c61611e64eda_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_gb980ba45b5cff1682d93c61611e64eda_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_gb980ba45b5cff1682d93c61611e64eda_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="727,181,825,208"><area shape="rect" href="group__timer__module.html#g8cccbbd337a60847f767aaca9da9743e" title="A long&#45;delay timer function, which can delay for up to 15.7 hours." alt="" coords="712,232,840,259"><area shape="rect" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6" title="Called periodically by the node." alt="" coords="252,131,415,157"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="889,181,980,208"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="896,232,973,259"><area shape="rect" href="group__avr6lowpan__example.html#gae5d355e600a14de30bf3e45b2301714" title="6lowpan Periodic Function Call" alt="" coords="464,80,664,107"><area shape="rect" href="group__avr6lowpansleeping.html#ga026ffcf6668bb4cb0bd547bacb59dfe" title="Will set the node to sleep if it should be sleeping." alt="" coords="471,5,657,32"><area shape="rect" href="group__avr6lowpansleeping.html#gbff6dd85e394e368fd9a96b93cea835d" title="Checks for any pending messages." alt="" coords="472,131,656,157"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g2b30ed3e5c17c260fe94b43c9b73c7b3"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_sleep" ref="g2b30ed3e5c17c260fe94b43c9b73c7b3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_sleep           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Puts the node to sleep if it can. 
<p>
If the node is unable to sleep, instead this function just sets up the periodic timer to run. If the node can sleep, the node will go to sleep between the periodic timer firing. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00432">432</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00287">ENDDEVICE</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="sleep_8c-source.html#l00073">nodeSleep()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="sixlowpan__wake_8h-source.html#l00051">SIXLOWPAN_PERIODIC_TIME</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00346">sixlowpanSleep_periodic()</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00290">sixlowpanSleep_sendAwake()</a>, <a class="el" href="sixlowpan__wake_8c-source.html#l00401">sixlowpanSleep_setupPeriodic()</a>, and <a class="el" href="mac_8h-source.html#l00706">macConfig_t::sleeping</a>.</p>

<p>Referenced by <a class="el" href="sixlowpan__wake_8c-source.html#l00371">sixlowpanSleep_checkSleep()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpansleeping_g2b30ed3e5c17c260fe94b43c9b73c7b3_cgraph.png" border="0" usemap="#group__avr6lowpansleeping_g2b30ed3e5c17c260fe94b43c9b73c7b3_cgraph_map" alt=""></center>
<map name="group__avr6lowpansleeping_g2b30ed3e5c17c260fe94b43c9b73c7b3_cgraph_map">
<area shape="rect" href="group__sleep.html#g93b5cdc0c2f6e617c9e63fac53cc8271" title="Put the node to sleep." alt="" coords="475,132,557,159"><area shape="rect" href="group__avr6lowpansleeping.html#g82ac0055949c3812c0c6d86c56311be6" title="Called periodically by the node." alt="" coords="204,360,367,387"><area shape="rect" href="group__avr6lowpansleeping.html#gb980ba45b5cff1682d93c61611e64eda" title="Sets up the periodic timer." alt="" coords="664,411,861,438"><area shape="rect" href="group__avr6lowpansleeping.html#gbff6dd85e394e368fd9a96b93cea835d" title="Checks for any pending messages." alt="" coords="424,462,608,488"><area shape="rect" href="group__radio.html#g324b48dc10d81456ce6ddd909f1d5e83" title="This function will put the radio transceiver to sleep." alt="" coords="691,6,835,32"><area shape="rect" href="group__radio.html#g80178b680aa26b7a8e1a1ce8a4a824b3" title="This function return the Radio Transceivers current state." alt="" coords="909,132,1029,159"><area shape="rect" href="group__radio.html#g9b993ad338e639b917540d835079ce84" title="This function will take the radio transceiver from sleep mode and put it into the..." alt="" coords="689,107,836,134"><area shape="rect" href="group__radio.html#g9c32d026c082234626f5f900077221bc" title="This function will change the current state of the radio transceiver&#39;s internal..." alt="" coords="704,208,821,235"><area shape="rect" href="group__serial.html#g364b552759a6ed3c410d2ebb770975b7" title="USART initialization." alt="" coords="725,56,800,83"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="920,335,1019,362"><area shape="rect" href="group__avr6lowpan__example.html#gae5d355e600a14de30bf3e45b2301714" title="6lowpan Periodic Function Call" alt="" coords="416,259,616,286"><area shape="rect" href="group__avr6lowpansleeping.html#ga026ffcf6668bb4cb0bd547bacb59dfe" title="Will set the node to sleep if it should be sleeping." alt="" coords="423,310,609,336"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g5d41e1c9e645c5bd9fa6518f5d6eafe4"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_timeout" ref="g5d41e1c9e645c5bd9fa6518f5d6eafe4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_timeout           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called whenever the node times out. 
<p>
When this function is called the node becomes eligable for sleep. 
<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00332">332</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, and <a class="el" href="mac_8h-source.html#l00706">macConfig_t::sleeping</a>.</p>

<p>Referenced by <a class="el" href="avr__timer_8c-source.html#l00348">ISR()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8ed242f475056abec283eca28f2e0188"></a><!-- doxytag: member="sixlowpan_wake.c::sixlowpanSleep_wakeupSent" ref="g8ed242f475056abec283eca28f2e0188" args="(uint16_t shortaddress, uip_ipaddr_t *ipaddr, uint16_t port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpanSleep_wakeupSent           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>shortaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uip_ipaddr_t *&nbsp;</td>
          <td class="paramname"> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the 'wakeup' command has been sent to an end node. 
<p>
We remember who sent the command, so we can send it back to the node later.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shortaddress</em>&nbsp;</td><td>The address of the node which is being sent to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ipaddr</em>&nbsp;</td><td>The IP address which sent the wakeup command. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The UDP port which the node should respond to. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sixlowpan__wake_8c-source.html#l00149">149</a> of file <a class="el" href="sixlowpan__wake_8c-source.html">sixlowpan_wake.c</a>.</p>

<p>References <a class="el" href="sixlowpan__wake_8c-source.html#l00111">wakeup_information</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 8 18:39:12 2009 for RUM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
