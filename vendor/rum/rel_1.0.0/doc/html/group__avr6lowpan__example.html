<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RUM: AVR 6LoWPAN Example Application</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>AVR 6LoWPAN Example Application<br>
<small>
[<a class="el" href="group__app.html">Sample Application</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for AVR 6LoWPAN Example Application:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__avr6lowpan__example.png" border="0" alt="" usemap="#group____avr6lowpan____example_map">
<map name="group____avr6lowpan____example_map">
<area shape="rect" href="group__app.html" title="This is a sample application, intended to show how the Route Under MAC can be used..." alt="" coords="5,5,139,32"></map></td></tr></table></center>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Example 6LoWPAN Application. 
<p>
Provides three different examples: the IPSO application which provides remote node control, the sensor example which provides sensor reporting, and a TFTP file transfer example which can be used to load new code in the AVR. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#g8fa94ab893638c302dd83edf0833a0ea">sixlowpan_tftpData</a> (uint8_t *data, uint8_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes incomming TFTP Data.  <a href="#g8fa94ab893638c302dd83edf0833a0ea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#gc33c962f057d3ef7787483909b6426bd">sixlowpan_ping_usercall</a> (uint8_t sequence)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the user callback when a ping response is received.  <a href="#gc33c962f057d3ef7787483909b6426bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#g5587e78871f5562126152360689c466b">sixlowpan_udp_usercall</a> (uint16_t sourceport, uint16_t destport, uint8_t *payload, uint8_t payloadlen, uint8_t payloadmax, ipbuf_t *ipbuf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the user callback when a UDP packet is received.  <a href="#g5587e78871f5562126152360689c466b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#gae5d355e600a14de30bf3e45b2301714">sixlowpan_application_periodic</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">6lowpan Periodic Function Call  <a href="#gae5d355e600a14de30bf3e45b2301714"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#g31a4ca6d7db7f9ec030631ec2251fba2">sixlowpan_application_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initilize the 6lowpan application.  <a href="#g31a4ca6d7db7f9ec030631ec2251fba2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#g9b846160a17878fbb5a2a93137917d07">sixlowpan_button</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when button on physical device is pressed, or a command to simulate pressing the button is sent.  <a href="#g9b846160a17878fbb5a2a93137917d07"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#g71646ae68963dafaac0092b91eb68604">sixlowpan_sensorReturn</a> (u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to send back a UDP packet to the source.  <a href="#g71646ae68963dafaac0092b91eb68604"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#g791305218d50b24b349f438a400c4826">sixlowpan_sensorSend</a> (u16 addr, u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to send a UDP packet to a specific end-node.  <a href="#g791305218d50b24b349f438a400c4826"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#ge148b7a530a32b86d057b5cf6e76427b">sixlowpan_sensorPerSend</a> (u8 len, u8 *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called to send a UDP packet to the periodic address.  <a href="#ge148b7a530a32b86d057b5cf6e76427b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1f8400d1913a42745c2530995f30f8d"></a><!-- doxytag: member="avr6lowpan_example::destipAddr" ref="ga1f8400d1913a42745c2530995f30f8d" args="[16]" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#ga1f8400d1913a42745c2530995f30f8d">destipAddr</a> [16] = {0x20, 0x01, 0x49, 0x78, 0x01, 0xE1, 0x00, 0x00, 0x02, 0x1C, 0x23, 0xFF, 0XFE, 0x2B, 0xBD, 0x6C}</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store destination address of commands. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf89d4fb3cf6fbe62a1345ed6e8b07030"></a><!-- doxytag: member="avr6lowpan_example::googleipAddr" ref="gf89d4fb3cf6fbe62a1345ed6e8b07030" args="[16]" -->
uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__avr6lowpan__example.html#gf89d4fb3cf6fbe62a1345ed6e8b07030">googleipAddr</a> [16] = {0x20, 0x01, 0x48, 0x60, 0xB0, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0X00, 0x00, 0x00, 0x68}</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store destination address of server. <br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g31a4ca6d7db7f9ec030631ec2251fba2"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_application_init" ref="g31a4ca6d7db7f9ec030631ec2251fba2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_application_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initilize the 6lowpan application. 
<p>

<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00873">873</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="sixlowpan__wake_8h-source.html#l00055">SIXLOWPAN_PERIODIC_APP_TIME</a>, and <a class="el" href="sixlowpan__wake_8h-source.html#l00051">SIXLOWPAN_PERIODIC_TIME</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00507">appStartScan()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gae5d355e600a14de30bf3e45b2301714"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_application_periodic" ref="gae5d355e600a14de30bf3e45b2301714" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_application_periodic           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
6lowpan Periodic Function Call 
<p>
This function is called periodically, in this case it is used to send back sensor data as needed. The function waits<p>
If no application (<a class="el" href="group__app.html#gc4d049774203601b4c2d477b4f46dbe9">APP</a>) is defined, then this function does nothing. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">687</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="hal__avr_8h-source.html#l00135">HAL_INIT_ADC</a>, <a class="el" href="hal__avr_8h-source.html#l00143">HAL_READ_ADC</a>, <a class="el" href="hal__avr_8h-source.html#l00139">HAL_SAMPLE_ADC</a>, <a class="el" href="hal__avr_8h-source.html#l00141">HAL_WAIT_ADC</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="radio_8c-source.html#l01081">radioRandom()</a>, <a class="el" href="radio_8c-source.html#l00740">radioSetTrxState()</a>, <a class="el" href="at86rf23x__registermap_8h-source.html#l00078">RX_AACK_ON</a>, <a class="el" href="sensors_8c-source.html#l00842">sendReading()</a>, <a class="el" href="sensors_8h-source.html#l00060">SENSOR_TYPE</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">sixlowpan_application_periodic()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00886">sixlowpan_hc01_udp_setup_ipglobal()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>, and <a class="el" href="sixlowpan__wake_8h-source.html#l00051">SIXLOWPAN_PERIODIC_TIME</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan__application_8c-source.html#l00687">sixlowpan_application_periodic()</a>, and <a class="el" href="sixlowpan__wake_8c-source.html#l00346">sixlowpanSleep_periodic()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_gae5d355e600a14de30bf3e45b2301714_cgraph.png" border="0" usemap="#group__avr6lowpan__example_gae5d355e600a14de30bf3e45b2301714_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_gae5d355e600a14de30bf3e45b2301714_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="325,56,424,82"><area shape="rect" href="group__radio.html#g301044554e9d047bf22935d01c615884" title="Returns a random number, composed of bits from the radio&#39;s random number generator..." alt="" coords="327,157,423,184"><area shape="rect" href="group__radio.html#g9c32d026c082234626f5f900077221bc" title="This function will change the current state of the radio transceiver&#39;s internal..." alt="" coords="316,106,433,133"><area shape="rect" href="group__sensors.html#gc4fd19ca8f3d53a6d64bc4869713acbb" title="Send a single reading to the coordinator and go to sleep if required." alt="" coords="327,208,423,234"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="259,258,491,285"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="287,309,463,336"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="253,360,496,386"><area shape="rect" href="group__avr6lowpan.html#g805964e13e701bdde2a4058f8a44ce50" title="Setup a UDP packet for off&#45;link IP addresses." alt="" coords="259,410,491,437"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="267,461,483,488"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="559,56,649,82"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="565,5,643,32"><area shape="rect" href="group__arm.html#gbe3a54dd0c5f0231fb9ef72abd021486" title="This function reads the value of a specific subregister." alt="" coords="712,157,853,184"><area shape="rect" href="group__radio.html#g2976f50bf538933d7eba0444494d6289" title="Returns the radio part number." alt="" coords="544,157,664,184"><area shape="rect" href="group__radio.html#g80178b680aa26b7a8e1a1ce8a4a824b3" title="This function return the Radio Transceivers current state." alt="" coords="544,106,664,133"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g9b846160a17878fbb5a2a93137917d07"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_button" ref="g9b846160a17878fbb5a2a93137917d07" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_button           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when button on physical device is pressed, or a command to simulate pressing the button is sent. 
<p>
This function performs the requested command. It is either to send a UDP packet to a remote node, or ping a remote node. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00896">896</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="avr__sixlowpan__application_8c-source.html#l00077">destipAddr</a>, <a class="el" href="avr__timer_8c-source.html#l00133">macGetTime()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00831">sixlowpan_hc01_ping_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00770">sixlowpan_hc01_ping_setup_ipglobal()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00886">sixlowpan_hc01_udp_setup_ipglobal()</a>, and <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_g9b846160a17878fbb5a2a93137917d07_cgraph.png" border="0" usemap="#group__avr6lowpan__example_g9b846160a17878fbb5a2a93137917d07_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_g9b846160a17878fbb5a2a93137917d07_cgraph_map">
<area shape="rect" href="group__timer__module.html#ga2ba6a5f4d933213f7046c8c90108551" title="macGetTime" alt="" coords="723,182,819,209"><area shape="rect" href="group__avr6lowpan.html#g5ce700a614ec9bb34ddb0e23f77e80ed" title="Send a Ping Packet." alt="" coords="208,132,387,158"><area shape="rect" href="group__avr6lowpan.html#g95782dbcd4ab7838c617ba6f224a2d88" title="Setup an ICMPv6 Echo Request packet for off&#45;link IP addresses." alt="" coords="180,258,415,285"><area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="181,309,413,336"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="209,81,385,108"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="176,360,419,386"><area shape="rect" href="group__avr6lowpan.html#g805964e13e701bdde2a4058f8a44ce50" title="Setup a UDP packet for off&#45;link IP addresses." alt="" coords="181,410,413,437"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="189,461,405,488"><area shape="rect" href="group__avr6lowpan.html#g9874ead3e9cba4ba09fe5e3fe1c80300" title="Calculates an IP checksum over a range of data." alt="" coords="537,5,604,32"><area shape="rect" href="group__avr6lowpan.html#g2d94f2a1492458c5441f91716757ef59" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="481,56,660,82"><area shape="rect" href="group__avr6lowpan.html#g44ca4c2a1ad826bcd3f5f1ec74699d49" title="Calculates the pseduo&#45;header checksum." alt="" coords="467,106,675,133"><area shape="rect" href="group__avr6lowpansleeping.html#gef1e61b10870db55337122c68bc1b1b9" title="Called when activity occurs on the node." alt="" coords="492,157,649,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gc33c962f057d3ef7787483909b6426bd"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_ping_usercall" ref="gc33c962f057d3ef7787483909b6426bd" args="(uint8_t sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_ping_usercall           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>sequence</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the user callback when a ping response is received. 
<p>
User callback when an ICMP Echo Response is received.<p>
This function allows the user to know that a ping response was received after sending out a ping request. Can be used to verify node connectivity. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00138">138</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="rum__application_8c-source.html#l00262">appSixlowpanPingResponse()</a>, and <a class="el" href="avr__timer_8c-source.html#l00133">macGetTime()</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan_8c-source.html#l00172">sixlowpan_hc01_process()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_gc33c962f057d3ef7787483909b6426bd_cgraph.png" border="0" usemap="#group__avr6lowpan__example_gc33c962f057d3ef7787483909b6426bd_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_gc33c962f057d3ef7787483909b6426bd_cgraph_map">
<area shape="rect" href="group__app.html#gfeee90add49d6170d365da9329fa3a91" title="Application callback function." alt="" coords="217,5,401,32"><area shape="rect" href="group__timer__module.html#ga2ba6a5f4d933213f7046c8c90108551" title="macGetTime" alt="" coords="261,56,357,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ge148b7a530a32b86d057b5cf6e76427b"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_sensorPerSend" ref="ge148b7a530a32b86d057b5cf6e76427b" args="(u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_sensorPerSend           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to send a UDP packet to the periodic address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to data</td></tr>
  </table>
</dl>
This function is used to send a periodic sensor reading. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00974">974</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00295">DEFAULT_COORD_ADDR</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00942">sixlowpan_hc01_udp_setup_iplocal()</a>, and <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00842">sendReading()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_ge148b7a530a32b86d057b5cf6e76427b_cgraph.png" border="0" usemap="#group__avr6lowpan__example_ge148b7a530a32b86d057b5cf6e76427b_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_ge148b7a530a32b86d057b5cf6e76427b_cgraph_map">
<area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="235,30,467,57"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="263,81,439,108"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="229,132,472,158"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="239,182,463,209"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="243,233,459,260"><area shape="rect" href="group__avr6lowpan.html#g9874ead3e9cba4ba09fe5e3fe1c80300" title="Calculates an IP checksum over a range of data." alt="" coords="591,5,657,32"><area shape="rect" href="group__avr6lowpan.html#g2d94f2a1492458c5441f91716757ef59" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="535,56,713,82"><area shape="rect" href="group__avr6lowpan.html#g44ca4c2a1ad826bcd3f5f1ec74699d49" title="Calculates the pseduo&#45;header checksum." alt="" coords="520,106,728,133"><area shape="rect" href="group__avr6lowpansleeping.html#gef1e61b10870db55337122c68bc1b1b9" title="Called when activity occurs on the node." alt="" coords="545,157,703,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g71646ae68963dafaac0092b91eb68604"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_sensorReturn" ref="g71646ae68963dafaac0092b91eb68604" args="(u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_sensorReturn           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to send back a UDP packet to the source. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to data</td></tr>
  </table>
</dl>
This function is used to respond to requests from the coordinator. For example calibration setup, etc. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00940">940</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00700">sensorReplyRawData()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g791305218d50b24b349f438a400c4826"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_sensorSend" ref="g791305218d50b24b349f438a400c4826" args="(u16 addr, u8 len, u8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_sensorSend           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called to send a UDP packet to a specific end-node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Short address of node to send to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to data</td></tr>
  </table>
</dl>
This function is used to respond to send data from the coordinator to end nodes / routers. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00958">958</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="avr__sixlowpan_8c-source.html#l01084">sixlowpan_hc01_udp_get_payloadptr()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01039">sixlowpan_hc01_udp_send()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l01092">sixlowpan_hc01_udp_set_payloadsize()</a>, <a class="el" href="avr__sixlowpan_8c-source.html#l00942">sixlowpan_hc01_udp_setup_iplocal()</a>, and <a class="el" href="avr__sixlowpan_8c-source.html#l00987">sixlowpan_hc01_udp_setup_ports()</a>.</p>

<p>Referenced by <a class="el" href="sensors_8c-source.html#l00446">sensorRequestCalInfo()</a>, <a class="el" href="sensors_8c-source.html#l00425">sensorRequestReading()</a>, and <a class="el" href="sensors_8c-source.html#l00487">sensorSendSetNodeName()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_g791305218d50b24b349f438a400c4826_cgraph.png" border="0" usemap="#group__avr6lowpan__example_g791305218d50b24b349f438a400c4826_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_g791305218d50b24b349f438a400c4826_cgraph_map">
<area shape="rect" href="group__avr6lowpan.html#g270d58c0390fa3a648de3d2df7a179b4" title="Get a pointer to the payload section of the UDP packet." alt="" coords="213,30,445,57"><area shape="rect" href="group__avr6lowpan.html#gf25c7b0fc910cfbee13b71a0129e7f3c" title="Send a UDP Packet." alt="" coords="241,81,417,108"><area shape="rect" href="group__avr6lowpan.html#g5aee4b0d2faa99889dde62f995f156ec" title="Set amount of data user has loaded into payload section." alt="" coords="208,132,451,158"><area shape="rect" href="group__avr6lowpan.html#g5bcd449caa7942b2731361a3e01abae5" title="Setup a UDP packet for on&#45;link IP addresses." alt="" coords="217,182,441,209"><area shape="rect" href="group__avr6lowpan.html#geda0cc06167d50c3dfc43eb8699548e0" title="Setup a UDP packet&#39;s port information." alt="" coords="221,233,437,260"><area shape="rect" href="group__avr6lowpan.html#g9874ead3e9cba4ba09fe5e3fe1c80300" title="Calculates an IP checksum over a range of data." alt="" coords="569,5,636,32"><area shape="rect" href="group__avr6lowpan.html#g2d94f2a1492458c5441f91716757ef59" title="The macsixlowpanDataRequest function is used to send a frame over the air to another..." alt="" coords="513,56,692,82"><area shape="rect" href="group__avr6lowpan.html#g44ca4c2a1ad826bcd3f5f1ec74699d49" title="Calculates the pseduo&#45;header checksum." alt="" coords="499,106,707,133"><area shape="rect" href="group__avr6lowpansleeping.html#gef1e61b10870db55337122c68bc1b1b9" title="Called when activity occurs on the node." alt="" coords="524,157,681,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g8fa94ab893638c302dd83edf0833a0ea"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_tftpData" ref="g8fa94ab893638c302dd83edf0833a0ea" args="(uint8_t *data, uint8_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sixlowpan_tftpData           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes incomming TFTP Data. 
<p>
This function writes the data to the proper place in flash memory. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00616">616</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan__application_8c-source.html#l00161">sixlowpan_udp_usercall()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_g8fa94ab893638c302dd83edf0833a0ea_cgraph.png" border="0" usemap="#group__avr6lowpan__example_g8fa94ab893638c302dd83edf0833a0ea_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_g8fa94ab893638c302dd83edf0833a0ea_cgraph_map">
<area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="185,31,284,57"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="335,5,425,32"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="341,56,419,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g5587e78871f5562126152360689c466b"></a><!-- doxytag: member="avr_sixlowpan_application.c::sixlowpan_udp_usercall" ref="g5587e78871f5562126152360689c466b" args="(uint16_t sourceport, uint16_t destport, uint8_t *payload, uint8_t payloadlen, uint8_t payloadmax, ipbuf_t *ipbuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t sixlowpan_udp_usercall           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>sourceport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>destport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>payloadlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>payloadmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ipbuf_t *&nbsp;</td>
          <td class="paramname"> <em>ipbuf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the user callback when a UDP packet is received. 
<p>
User callback when a UDP packet is received on 6LoWPAN.<p>
This function handles the incoming packet, then possibly responds if a response should be sent. 
<p>Definition at line <a class="el" href="avr__sixlowpan__application_8c-source.html#l00161">161</a> of file <a class="el" href="avr__sixlowpan__application_8c-source.html">avr_sixlowpan_application.c</a>.</p>

<p>References <a class="el" href="avr__sixlowpan__application_8c-source.html#l00077">destipAddr</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="avr__timer_8c-source.html#l00133">macGetTime()</a>, <a class="el" href="hal__avr_8h-source.html#l00096">PLATFORM</a>, <a class="el" href="hal__avr_8h-source.html#l00067">RAVEN</a>, <a class="el" href="sensors_8c-source.html#l01028">sensorRcvPacket()</a>, <a class="el" href="mac_8h-source.html#l00177">SERIAL</a>, <a class="el" href="sixlowpan__wake_8h-source.html#l00055">SIXLOWPAN_PERIODIC_APP_TIME</a>, <a class="el" href="sixlowpan__wake_8h-source.html#l00051">SIXLOWPAN_PERIODIC_TIME</a>, <a class="el" href="avr__sixlowpan__application_8c-source.html#l00616">sixlowpan_tftpData()</a>, <a class="el" href="mac_8h-source.html#l00706">macConfig_t::sleeping</a>, and <a class="el" href="mac_8h-source.html#l00206">VLP</a>.</p>

<p>Referenced by <a class="el" href="avr__sixlowpan_8c-source.html#l00172">sixlowpan_hc01_process()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__avr6lowpan__example_g5587e78871f5562126152360689c466b_cgraph.png" border="0" usemap="#group__avr6lowpan__example_g5587e78871f5562126152360689c466b_cgraph_map" alt=""></center>
<map name="group__avr6lowpan__example_g5587e78871f5562126152360689c466b_cgraph_map">
<area shape="rect" href="group__timer__module.html#ga2ba6a5f4d933213f7046c8c90108551" title="macGetTime" alt="" coords="231,56,327,83"><area shape="rect" href="group__sensors.html#gbaa8d61c91f652d5e95e2ec6c9f00b4d" title="Handle a received packet." alt="" coords="217,107,340,134"><area shape="rect" href="group__avr6lowpan__example.html#g8fa94ab893638c302dd83edf0833a0ea" title="Processes incomming TFTP Data." alt="" coords="213,183,344,210"><area shape="rect" href="group__sensors.html#g18a4019e7e397a1127dc4f90ffdbf1b9" title="Callback function to receive calibration information from a sensor node." alt="" coords="415,6,535,32"><area shape="rect" href="group__sensors.html#g30d62befb8ff70a3413363f9741c5c2c" title="Sensor node sends raw data back to coordinator." alt="" coords="403,56,547,83"><area shape="rect" href="group__sensors.html#g2e7afcc8044d96300ecb9dc6d42aaf3d" title="Send a sensor reading to coordinator." alt="" coords="407,107,543,134"><area shape="rect" href="group__sensors.html#g16a00091e33ba95a882e79844b59d3fc" title="Set the name of the sensor name." alt="" coords="392,158,557,184"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="607,158,705,184"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 8 18:38:59 2009 for RUM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
