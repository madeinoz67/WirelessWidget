<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RUM: MAC scanning system</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MAC scanning system<br>
<small>
[<a class="el" href="group__mac.html">Route Under Mac (RUM)</a>]</small>
</h1>
<p>
<div class="dynheader">
Collaboration diagram for MAC scanning system:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__mac__scan.png" border="0" alt="" usemap="#group____mac____scan_map">
<map name="group____mac____scan_map">
<area shape="rect" href="group__mac.html" title="The RUM MAC is a quasi&#45;compliant 802.15.4 MAC layer." alt="" coords="7,5,169,32"></map></td></tr></table></center>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This module provides functions that scan the available channels. 
<p>
End nodes and routers scan to look for avaiable networks, while coordinator nodes scan to look for an empty channel to use.<p>
The coordinator node uses just one channel to establish a network, and all nodes on the network use that same channel. The channel can be either a fixed channel <a class="el" href="group__mac__associate.html#g339b747fe4e5bb7e7f252ba56727e3f5">PAN_CHANNEL</a> (by passing PAN_CHANNEL=13, the PAN will operate on channel 13), or the coordinator can choose the quietest free channel (by leaving PAN_CHANNEL unset.<p>
The router/end nodes scan all available channels, or, if <a class="el" href="group__mac__associate.html#g339b747fe4e5bb7e7f252ba56727e3f5">PAN_CHANNEL</a> is set, only <a class="el" href="group__mac__associate.html#g339b747fe4e5bb7e7f252ba56727e3f5">PAN_CHANNEL</a> will be scanned for network nodes.<p>
Scanning involves the following steps for each channel scanned. This is for an end node or router.<p>
<ol type=1>
<li>Set the radio to the channel being scanned.</li><li>Send a beacon request.</li><li>Set a timeout timer for <a class="el" href="group__mac__scan.html#g4c1c323d6bc3387b2c3fab879cf4d87e">SCANDURATION</a>.</li><li>If a beacon is received before the timer expires, save the relevent information about the node sending the beacon.</li><li>When the timer expires, move on to the next channel.</li></ol>
<p>
The coordinator performs a channel scan, not to look for available networks, but to avoid them, and to find the least-noisy channel. The coordinator scan measures the noise level on each channel, so there is an array of energy measurements, one for each channel. Here are the coordinator scan steps:<p>
<ol type=1>
<li>Set the radio to the channel being scanned.</li><li>Send a beacon request.</li><li>Set a timeout timer for <a class="el" href="group__mac__scan.html#g4c1c323d6bc3387b2c3fab879cf4d87e">SCANDURATION</a>.</li><li>If a beacon is received before the timer expires, add 500 noise points to the energy measurement for the current channel.</li><li>Measure energy as many times as possible in the <a class="el" href="group__mac__scan.html#g4c1c323d6bc3387b2c3fab879cf4d87e">SCANDURATION</a> window.</li><li>When all channels have been scanned, determine which channels have the minimum noise. If more than one channel has minimal noise, randomly choose one of these channels to use for the network. </li></ol>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structenergy__t.html">energy_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure used to keep track of how much energy is received on each scanned channel.  <a href="structenergy__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4c1c323d6bc3387b2c3fab879cf4d87e"></a><!-- doxytag: member="mac_scan::SCANDURATION" ref="g4c1c323d6bc3387b2c3fab879cf4d87e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g4c1c323d6bc3387b2c3fab879cf4d87e">SCANDURATION</a>&nbsp;&nbsp;&nbsp;(20 + (100*(BAND==BAND900)))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Duration of scanning for each channel, in mSec. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g83c6e91d2cdbf552eb7c82ad6f610a81"></a><!-- doxytag: member="mac_scan::SCAN_SLEEP_TIME" ref="g83c6e91d2cdbf552eb7c82ad6f610a81" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g83c6e91d2cdbf552eb7c82ad6f610a81">SCAN_SLEEP_TIME</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Time to sleep between each channel scan (10ths of a second). <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#gae50bf8d2984eaa38f63903f67ecee2f">store_pandescriptors</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This will store the actual beacon data into the pan descriptor list after the appropriate pan conditions have been met.  <a href="#gae50bf8d2984eaa38f63903f67ecee2f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g92f5262200ca45d25313feb542d9c30b">macIsScanning</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reports whether the MAC is currently scanning.  <a href="#g92f5262200ca45d25313feb542d9c30b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g0e398021c1df780ccc9a85785507f1e0">macSetScanChannel</a> (u8 channel)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a specific single channel to scan, or all channels.  <a href="#g0e398021c1df780ccc9a85785507f1e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g1b6cb559b6f7dfb18d178766cb0dd1ad">macGetScanChannel</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the channel set by <a class="el" href="group__mac__scan.html#g0e398021c1df780ccc9a85785507f1e0">macSetScanChannel()</a>.  <a href="#g1b6cb559b6f7dfb18d178766cb0dd1ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#ge0a3ffbab485718432db4a80c86c87db">sendBeaconRequest</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a beacon request frame.  <a href="#ge0a3ffbab485718432db4a80c86c87db"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g9b962c94bc13ed89a2d2a8590ed487f4">macScan</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan channels for coordinators.  <a href="#g9b962c94bc13ed89a2d2a8590ed487f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#gf084f7bb7346b0573dc67e4dea576d6e">mac_logPanDescriptors</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Record the pan description data from a received beacon frame in the global <a class="el" href="group__mac__scan.html#g963e3745ba8bbe555f09a099c8566102">panDescriptor</a> structure.  <a href="#gf084f7bb7346b0573dc67e4dea576d6e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#gfd144874c6383422c68edcf57d581b06">mac_scanConfirm</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Trigger a call to <a class="el" href="group__app.html#g43fb16d48be1908e0a007eaccb6280c9">appScanConfirm()</a>, since the scanning process is done.  <a href="#gfd144874c6383422c68edcf57d581b06"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g419e8b2f87034aa835a01d150e516f52">energyScanCallback</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback function, called from timer set in <a class="el" href="group__mac__scan.html#g26cb107f1a13ba8b3ba4008d00eb6b54" title="This function is used by the coordinator to find a clear channel to use for the PAN...">macFindClearChannel()</a>.  <a href="#g419e8b2f87034aa835a01d150e516f52"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#ga219513a4f1154944e13866938508692">macEdCallback</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback function, called by the radio ISR function when the radio issues an energy measurement interrupt.  <a href="#ga219513a4f1154944e13866938508692"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g26cb107f1a13ba8b3ba4008d00eb6b54">macFindClearChannel</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is used by the coordinator to find a clear channel to use for the PAN.  <a href="#g26cb107f1a13ba8b3ba4008d00eb6b54"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g963e3745ba8bbe555f09a099c8566102"></a><!-- doxytag: member="mac_scan::panDescriptor" ref="g963e3745ba8bbe555f09a099c8566102" args="" -->
<a class="el" href="structpanDescriptor__t.html">panDescriptor_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g963e3745ba8bbe555f09a099c8566102">panDescriptor</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PAN Descriptor structure,. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g6ce4b7cec053bf6fc7dd474663b2db76"></a><!-- doxytag: member="mac_scan::scanInProcess" ref="g6ce4b7cec053bf6fc7dd474663b2db76" args="" -->
static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g6ce4b7cec053bf6fc7dd474663b2db76">scanInProcess</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag to prevent re-entrancy in scanning. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g9f65cb46245fa74d0b62f308570ae95d"></a><!-- doxytag: member="mac_scan::energy" ref="g9f65cb46245fa74d0b62f308570ae95d" args="" -->
static <a class="el" href="structenergy__t.html">energy_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mac__scan.html#g9f65cb46245fa74d0b62f308570ae95d">energy</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Energy accumulation structure. <br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g419e8b2f87034aa835a01d150e516f52"></a><!-- doxytag: member="mac_scan.c::energyScanCallback" ref="g419e8b2f87034aa835a01d150e516f52" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void energyScanCallback           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function, called from timer set in <a class="el" href="group__mac__scan.html#g26cb107f1a13ba8b3ba4008d00eb6b54" title="This function is used by the coordinator to find a clear channel to use for the PAN...">macFindClearChannel()</a>. 
<p>
This function tallies the results from an energy scan on one channel, and manages the channel change for the energy scan. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00380">380</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="rum__application_8c-source.html#l00671">appClearChanFound()</a>, <a class="el" href="mac_8h-source.html#l00243">CHINA_MODE</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="hal__avr_8h-source.html#l00780">HAL_ED_READY_MASK</a>, <a class="el" href="hal__arm_8c-source.html#l00224">hal_register_read()</a>, <a class="el" href="hal__arm_8c-source.html#l00278">hal_register_write()</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="radio_8c-source.html#l00366">radioSetOperatingChannel()</a>, <a class="el" href="at86rf23x__registermap_8h-source.html#l00153">RG_IRQ_MASK</a>, <a class="el" href="at86rf23x__registermap_8h-source.html#l00131">RG_PHY_ED_LEVEL</a>, <a class="el" href="mac__scan_8c-source.html#l00119">SCANDURATION</a>, <a class="el" href="mac__scan_8c-source.html#l00099">scanInProcess</a>, and <a class="el" href="mac__scan_8c-source.html#l00165">sendBeaconRequest()</a>.</p>

<p>Referenced by <a class="el" href="mac__scan_8c-source.html#l00478">macFindClearChannel()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_g419e8b2f87034aa835a01d150e516f52_cgraph.png" border="0" usemap="#group__mac__scan_g419e8b2f87034aa835a01d150e516f52_cgraph_map" alt=""></center>
<map name="group__mac__scan_g419e8b2f87034aa835a01d150e516f52_cgraph_map">
<area shape="rect" href="group__app.html#g8f71d0c0ed4dfe867f3cd0208a1299b6" title="Callback function, called when macFindClearChannel() completes." alt="" coords="196,56,335,82"><area shape="rect" href="group__radio.html#g14d426a54ebfc9514e5f6c23eb7fc736" title="This function will change the operating channel." alt="" coords="543,106,713,133"><area shape="rect" href="group__arm.html#g6e9e307a1b8e39fa9261ee12ced67314" title="This function writes a new value to one of the radio transceiver&#39;s registers..." alt="" coords="763,132,885,158"><area shape="rect" href="group__arm.html#gfd58b0cad5bbd45b1c4a8d30be4bc11c" title="This function reads data from one of the radio transceiver&#39;s registers." alt="" coords="205,208,325,234"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="216,258,315,285"><area shape="rect" href="group__mac__scan.html#ge0a3ffbab485718432db4a80c86c87db" title="Send a beacon request frame." alt="" coords="195,309,336,336"><area shape="rect" href="group__mac.html#gaa0748a32ee5741afc6a5078d92158bb" title="Init the mac, which includes initializing the radio chip." alt="" coords="407,5,471,32"><area shape="rect" href="group__mac.html#gd9b6aa9e3aa0f562f49354f26bbf56ba" title="This function will cause a device to become a PAN Coordinator." alt="" coords="385,56,492,82"><area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="393,208,484,234"><area shape="rect" href="group__timer__module.html#g55bef38a083b7a6478dd60c6668f3434" title="Start the hardware timer running." alt="" coords="400,258,477,285"><area shape="rect" href="group__radio.html#g73d762673c6af21f4fb6b6ba6c06cc63" title="This function will download a frame to the radio transceiver&#39;s transmit buffer..." alt="" coords="385,309,492,336"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gf084f7bb7346b0573dc67e4dea576d6e"></a><!-- doxytag: member="mac_scan.c::mac_logPanDescriptors" ref="gf084f7bb7346b0573dc67e4dea576d6e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mac_logPanDescriptors           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Record the pan description data from a received beacon frame in the global <a class="el" href="group__mac__scan.html#g963e3745ba8bbe555f09a099c8566102">panDescriptor</a> structure. 
<p>
This function only stores coordinator information if the beaconing node is judged better than the previously stored node. The criteria for determining the best node are:<p>
<ol type=1>
<li>LQI value</li><li>Hops to the coordinator</li><li>RSSI of received beacon</li></ol>
<p>
In <a class="el" href="group__app.html#gd5c46706b38c7dc7ebb32e964a24fd13">DEMO</a> mode, the only criteria used is to pick the parent with the lowest RSSI reading. This is done to encourage the formation of a multi-hop network for test and demo purposes. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00268">268</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00506">superframe_spec_t::association_permit</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac_8h-source.html#l00219">DEMO</a>, <a class="el" href="mac_8h-source.html#l00558">ftBeacon::hops</a>, <a class="el" href="mac_8h-source.html#l00527">panDescriptor_t::hopsToCoord</a>, <a class="el" href="mac_8h-source.html#l00528">panDescriptor_t::lqi</a>, <a class="el" href="mac_8c-source.html#l00066">mac_buffer_rx</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="radio_8c-source.html#l00198">radioGetSavedRssiValue()</a>, <a class="el" href="mac_8h-source.html#l00529">panDescriptor_t::rssi</a>, <a class="el" href="mac__scan_8c-source.html#l00099">scanInProcess</a>, <a class="el" href="mac__scan_8c-source.html#l00331">store_pandescriptors()</a>, <a class="el" href="mac_8h-source.html#l00556">ftBeacon::superFrame</a>, <a class="el" href="mac_8h-source.html#l00514">superframe_t::superframe_data</a>, <a class="el" href="mac_8h-source.html#l00513">superframe_t::superframe_struct</a>, and <a class="el" href="mac_8h-source.html#l00526">panDescriptor_t::superFrameSpec</a>.</p>

<p>Referenced by <a class="el" href="mac__event_8c-source.html#l00141">macTask()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_gf084f7bb7346b0573dc67e4dea576d6e_cgraph.png" border="0" usemap="#group__mac__scan_gf084f7bb7346b0573dc67e4dea576d6e_cgraph_map" alt=""></center>
<map name="group__mac__scan_gf084f7bb7346b0573dc67e4dea576d6e_cgraph_map">
<area shape="rect" href="group__radio.html#g8a4202486f04e061df72ec19973be447" title="Retrieves the saved RSSI (Received Signal Strength Indication) value." alt="" coords="407,6,569,32"><area shape="rect" href="group__mac__scan.html#gae50bf8d2984eaa38f63903f67ecee2f" title="This will store the actual beacon data into the pan descriptor list after the appropriate..." alt="" coords="215,31,356,58"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gfd144874c6383422c68edcf57d581b06"></a><!-- doxytag: member="mac_scan.c::mac_scanConfirm" ref="gfd144874c6383422c68edcf57d581b06" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mac_scanConfirm           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Trigger a call to <a class="el" href="group__app.html#g43fb16d48be1908e0a007eaccb6280c9">appScanConfirm()</a>, since the scanning process is done. 
<p>
If at least one valid beacon was received, then signal that success to the application. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00352">352</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="rum__application_8c-source.html#l00632">appScanConfirm()</a>, <a class="el" href="mac_8h-source.html#l00523">panDescriptor_t::coordAddr</a>, <a class="el" href="mac_8h-source.html#l00522">panDescriptor_t::coorPANId</a>, <a class="el" href="mac_8h-source.html#l00527">panDescriptor_t::hopsToCoord</a>, <a class="el" href="mac_8h-source.html#l00702">macConfig_t::hopsToCoord</a>, <a class="el" href="mac_8h-source.html#l00524">panDescriptor_t::logicalChannel</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="mac_8c-source.html#l00135">macSetOperatingChannel()</a>, <a class="el" href="mac_8h-source.html#l00698">macConfig_t::panId</a>, <a class="el" href="mac_8h-source.html#l00700">macConfig_t::parentShortAddress</a>, and <a class="el" href="radio_8c-source.html#l01028">radioSetPanId()</a>.</p>

<p>Referenced by <a class="el" href="mac__scan_8c-source.html#l00193">macScan()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_gfd144874c6383422c68edcf57d581b06_cgraph.png" border="0" usemap="#group__mac__scan_gfd144874c6383422c68edcf57d581b06_cgraph_map" alt=""></center>
<map name="group__mac__scan_gfd144874c6383422c68edcf57d581b06_cgraph_map">
<area shape="rect" href="group__app.html#g43fb16d48be1908e0a007eaccb6280c9" title="Callback function, called when the MAC has completed its channel scan." alt="" coords="207,82,321,108"><area shape="rect" href="group__mac.html#g62d975ef98590e2c23229df7b6d041c6" title="Set the radio&#39;s operating channel, and saves that channel to the MAC&#39;s global..." alt="" coords="180,132,348,159"><area shape="rect" href="group__radio.html#g8480a533bb1ba14171147bc1aeb78c7d" title="This function will set the PANID used by the address filter." alt="" coords="213,183,315,210"><area shape="rect" href="group__app.html#g06e926ceb26bd008cc94febe52cffb2d" title="Sample application function, associates this node to a network." alt="" coords="399,6,497,32"><area shape="rect" href="group__app.html#g83f230018f0884c336002b3005395314" title="Example function, starts the network by scanning channels for a coordinator." alt="" coords="399,56,497,83"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="399,107,497,134"><area shape="rect" href="group__sleep.html#g93b5cdc0c2f6e617c9e63fac53cc8271" title="Put the node to sleep." alt="" coords="407,158,489,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="ga219513a4f1154944e13866938508692"></a><!-- doxytag: member="mac_scan.c::macEdCallback" ref="ga219513a4f1154944e13866938508692" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macEdCallback           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function, called by the radio ISR function when the radio issues an energy measurement interrupt. 
<p>
This function stores the energy measurement for later use. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00453">453</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="hal__arm_8c-source.html#l00224">hal_register_read()</a>, <a class="el" href="hal__arm_8c-source.html#l00278">hal_register_write()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, and <a class="el" href="at86rf23x__registermap_8h-source.html#l00131">RG_PHY_ED_LEVEL</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_ga219513a4f1154944e13866938508692_cgraph.png" border="0" usemap="#group__mac__scan_ga219513a4f1154944e13866938508692_cgraph_map" alt=""></center>
<map name="group__mac__scan_ga219513a4f1154944e13866938508692_cgraph_map">
<area shape="rect" href="group__arm.html#gfd58b0cad5bbd45b1c4a8d30be4bc11c" title="This function reads data from one of the radio transceiver&#39;s registers." alt="" coords="167,5,287,32"><area shape="rect" href="group__arm.html#g6e9e307a1b8e39fa9261ee12ced67314" title="This function writes a new value to one of the radio transceiver&#39;s registers..." alt="" coords="165,56,288,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g26cb107f1a13ba8b3ba4008d00eb6b54"></a><!-- doxytag: member="mac_scan.c::macFindClearChannel" ref="g26cb107f1a13ba8b3ba4008d00eb6b54" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macFindClearChannel           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is used by the coordinator to find a clear channel to use for the PAN. 
<p>
It automatically scans all channels, issues a beacon request on each channel, and listens for channel energy level. When the scanning process is done, <a class="el" href="group__app.html#g8f71d0c0ed4dfe867f3cd0208a1299b6">appClearChanFound()</a> is called with the least occupied channel number.<p>
If <a class="el" href="group__mac__associate.html#g339b747fe4e5bb7e7f252ba56727e3f5">PAN_CHANNEL</a> is set to a valid channel, then scanning is not performed. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00478">478</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="rum__application_8c-source.html#l00671">appClearChanFound()</a>, <a class="el" href="mac_8h-source.html#l00285">COORD</a>, <a class="el" href="mac__scan_8c-source.html#l00380">energyScanCallback()</a>, <a class="el" href="hal__avr_8h-source.html#l00780">HAL_ED_READY_MASK</a>, <a class="el" href="hal__arm_8c-source.html#l00224">hal_register_read()</a>, <a class="el" href="hal__arm_8c-source.html#l00278">hal_register_write()</a>, <a class="el" href="mac_8c-source.html#l00076">macInit()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="mac_8h-source.html#l00233">PAN_CHANNEL</a>, <a class="el" href="radio_8c-source.html#l01081">radioRandom()</a>, <a class="el" href="radio_8c-source.html#l00366">radioSetOperatingChannel()</a>, <a class="el" href="radio_8c-source.html#l00740">radioSetTrxState()</a>, <a class="el" href="at86rf23x__registermap_8h-source.html#l00153">RG_IRQ_MASK</a>, <a class="el" href="at86rf23x__registermap_8h-source.html#l00066">RX_ON</a>, and <a class="el" href="mac__scan_8c-source.html#l00099">scanInProcess</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00746">appInit()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_g26cb107f1a13ba8b3ba4008d00eb6b54_cgraph.png" border="0" usemap="#group__mac__scan_g26cb107f1a13ba8b3ba4008d00eb6b54_cgraph_map" alt=""></center>
<map name="group__mac__scan_g26cb107f1a13ba8b3ba4008d00eb6b54_cgraph_map">
<area shape="rect" href="group__app.html#g8f71d0c0ed4dfe867f3cd0208a1299b6" title="Callback function, called when macFindClearChannel() completes." alt="" coords="393,195,532,222"><area shape="rect" href="group__mac.html#gaa0748a32ee5741afc6a5078d92158bb" title="Init the mac, which includes initializing the radio chip." alt="" coords="604,144,668,171"><area shape="rect" href="group__radio.html#g14d426a54ebfc9514e5f6c23eb7fc736" title="This function will change the operating channel." alt="" coords="740,246,911,272"><area shape="rect" href="group__arm.html#g6e9e307a1b8e39fa9261ee12ced67314" title="This function writes a new value to one of the radio transceiver&#39;s registers..." alt="" coords="960,246,1083,272"><area shape="rect" href="group__radio.html#g9c32d026c082234626f5f900077221bc" title="This function will change the current state of the radio transceiver&#39;s internal..." alt="" coords="767,94,884,120"><area shape="rect" href="group__radio.html#g301044554e9d047bf22935d01c615884" title="Returns a random number, composed of bits from the radio&#39;s random number generator..." alt="" coords="777,170,873,196"><area shape="rect" href="group__mac__scan.html#g419e8b2f87034aa835a01d150e516f52" title="Callback function, called from timer set in macFindClearChannel()." alt="" coords="204,347,343,374"><area shape="rect" href="group__arm.html#gfd58b0cad5bbd45b1c4a8d30be4bc11c" title="This function reads data from one of the radio transceiver&#39;s registers." alt="" coords="403,499,523,526"><area shape="rect" href="group__mac.html#gd9b6aa9e3aa0f562f49354f26bbf56ba" title="This function will cause a device to become a PAN Coordinator." alt="" coords="583,195,689,222"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="413,347,512,374"><area shape="rect" href="group__mac__scan.html#ge0a3ffbab485718432db4a80c86c87db" title="Send a beacon request frame." alt="" coords="392,398,533,424"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g1b6cb559b6f7dfb18d178766cb0dd1ad"></a><!-- doxytag: member="mac_scan.c::macGetScanChannel" ref="g1b6cb559b6f7dfb18d178766cb0dd1ad" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 macGetScanChannel           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the channel set by <a class="el" href="group__mac__scan.html#g0e398021c1df780ccc9a85785507f1e0">macSetScanChannel()</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The channel set by <a class="el" href="group__mac__scan.html#g0e398021c1df780ccc9a85785507f1e0">macSetScanChannel()</a>. </dd></dl>

<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00155">155</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g92f5262200ca45d25313feb542d9c30b"></a><!-- doxytag: member="mac_scan.c::macIsScanning" ref="g92f5262200ca45d25313feb542d9c30b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 macIsScanning           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reports whether the MAC is currently scanning. 
<p>
This applies to both coordinator scans and end/router node scans.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if MAC is scanning. False if MAC is not scanning. </dd></dl>

<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00132">132</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="mac__scan_8c-source.html#l00099">scanInProcess</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00309">appPacketSendFailed()</a>, <a class="el" href="radio_8c-source.html#l00740">radioSetTrxState()</a>, and <a class="el" href="radio_8c-source.html#l00218">radioTrxEndEvent()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9b962c94bc13ed89a2d2a8590ed487f4"></a><!-- doxytag: member="mac_scan.c::macScan" ref="g9b962c94bc13ed89a2d2a8590ed487f4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macScan           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Scan channels for coordinators. 
<p>
Reads the scanChannel variable, and scans either the channel in scanChannel, or all channels. This is the scan function for routers and end nodes, searching for a prospective parent node.<p>
This function calls itself via a mac alarm callback. The timer callback will re-enter the function after the <a class="el" href="group__mac__scan.html#g4c1c323d6bc3387b2c3fab879cf4d87e">SCANDURATION</a> timeout.<p>
When the entire scan is complete, the <a class="el" href="group__mac__scan.html#gfd144874c6383422c68edcf57d581b06" title="Trigger a call to appScanConfirm(), since the scanning process is done.">mac_scanConfirm()</a> function is called. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00193">193</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00243">CHINA_MODE</a>, <a class="el" href="mac_8h-source.html#l00703">macConfig_t::currentChannel</a>, <a class="el" href="mac_8h-source.html#l00287">ENDDEVICE</a>, <a class="el" href="mac_8h-source.html#l00524">panDescriptor_t::logicalChannel</a>, <a class="el" href="mac__scan_8c-source.html#l00352">mac_scanConfirm()</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="mac__scan_8c-source.html#l00193">macScan()</a>, <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="mac_8c-source.html#l00135">macSetOperatingChannel()</a>, <a class="el" href="mac__scan_8c-source.html#l00145">macSetScanChannel()</a>, <a class="el" href="sleep_8c-source.html#l00073">nodeSleep()</a>, <a class="el" href="mac_8h-source.html#l00328">NODETYPE</a>, <a class="el" href="mac_8h-source.html#l00233">PAN_CHANNEL</a>, <a class="el" href="mac__scan_8c-source.html#l00122">SCAN_SLEEP_TIME</a>, <a class="el" href="mac__scan_8c-source.html#l00119">SCANDURATION</a>, <a class="el" href="mac__scan_8c-source.html#l00099">scanInProcess</a>, <a class="el" href="mac__scan_8c-source.html#l00165">sendBeaconRequest()</a>, and <a class="el" href="mac_8h-source.html#l00206">VLP</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00507">appStartScan()</a>, and <a class="el" href="mac__scan_8c-source.html#l00193">macScan()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_g9b962c94bc13ed89a2d2a8590ed487f4_cgraph.png" border="0" usemap="#group__mac__scan_g9b962c94bc13ed89a2d2a8590ed487f4_cgraph_map" alt=""></center>
<map name="group__mac__scan_g9b962c94bc13ed89a2d2a8590ed487f4_cgraph_map">
<area shape="rect" href="group__mac__scan.html#gfd144874c6383422c68edcf57d581b06" title="Trigger a call to appScanConfirm(), since the scanning process is done." alt="" coords="140,135,265,161"><area shape="rect" href="group__timer__module.html#g0155e5192956b3cd498751d8652f7773" title="Sets a general purpose timer." alt="" coords="543,123,641,149"><area shape="rect" href="group__sleep.html#g93b5cdc0c2f6e617c9e63fac53cc8271" title="Put the node to sleep." alt="" coords="551,173,633,200"><area shape="rect" href="group__mac.html#g62d975ef98590e2c23229df7b6d041c6" title="Set the radio&#39;s operating channel, and saves that channel to the MAC&#39;s global..." alt="" coords="324,47,492,73"><area shape="rect" href="group__mac__scan.html#g0e398021c1df780ccc9a85785507f1e0" title="Sets a specific single channel to scan, or all channels." alt="" coords="131,249,275,276"><area shape="rect" href="group__mac__scan.html#ge0a3ffbab485718432db4a80c86c87db" title="Send a beacon request frame." alt="" coords="132,300,273,327"><area shape="rect" href="group__app.html#g43fb16d48be1908e0a007eaccb6280c9" title="Callback function, called when the MAC has completed its channel scan." alt="" coords="351,148,465,175"><area shape="rect" href="group__radio.html#g8480a533bb1ba14171147bc1aeb78c7d" title="This function will set the PANID used by the address filter." alt="" coords="357,97,459,124"><area shape="rect" href="group__radio.html#g73d762673c6af21f4fb6b6ba6c06cc63" title="This function will download a frame to the radio transceiver&#39;s transmit buffer..." alt="" coords="355,300,461,327"></map>
</div>

</div>
</div><p>
<a class="anchor" name="g0e398021c1df780ccc9a85785507f1e0"></a><!-- doxytag: member="mac_scan.c::macSetScanChannel" ref="g0e398021c1df780ccc9a85785507f1e0" args="(u8 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macSetScanChannel           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>channel</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a specific single channel to scan, or all channels. 
<p>
Note that <a class="el" href="group__mac__associate.html#g339b747fe4e5bb7e7f252ba56727e3f5">PAN_CHANNEL</a> must not be set as a compiler command line argument in order for all channels to be scanned.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channel</em>&nbsp;</td><td>The single channel to scan, or ALL_CHANNELS to scan all channels. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00145">145</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>Referenced by <a class="el" href="mac__scan_8c-source.html#l00193">macScan()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge0a3ffbab485718432db4a80c86c87db"></a><!-- doxytag: member="mac_scan.c::sendBeaconRequest" ref="ge0a3ffbab485718432db4a80c86c87db" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sendBeaconRequest           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a beacon request frame. 
<p>
The MAC must be previously initialized, and the channel set to a valid value. The beacon request is normally called as part of a channel scan. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00165">165</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00407">BEACON_REQUEST</a>, <a class="el" href="mac_8h-source.html#l00378">BROADCASTADDR</a>, <a class="el" href="mac_8h-source.html#l00545">ftBeaconReq::broadcastAddr</a>, <a class="el" href="mac_8h-source.html#l00696">macConfig_t::bsn</a>, <a class="el" href="mac_8h-source.html#l00546">ftBeaconReq::cmd</a>, <a class="el" href="mac_8h-source.html#l00542">ftBeaconReq::fcf</a>, <a class="el" href="mac_8h-source.html#l00426">FCF_BEACONREQ</a>, <a class="el" href="mac_8c-source.html#l00065">mac_buffer_tx</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="mac_8h-source.html#l00255">PAN_ID</a>, <a class="el" href="mac_8h-source.html#l00544">ftBeaconReq::panid</a>, <a class="el" href="radio_8c-source.html#l00983">radioSendData()</a>, and <a class="el" href="mac_8h-source.html#l00543">ftBeaconReq::seq</a>.</p>

<p>Referenced by <a class="el" href="mac__scan_8c-source.html#l00380">energyScanCallback()</a>, and <a class="el" href="mac__scan_8c-source.html#l00193">macScan()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_ge0a3ffbab485718432db4a80c86c87db_cgraph.png" border="0" usemap="#group__mac__scan_ge0a3ffbab485718432db4a80c86c87db_cgraph_map" alt=""></center>
<map name="group__mac__scan_ge0a3ffbab485718432db4a80c86c87db_cgraph_map">
<area shape="rect" href="group__radio.html#g73d762673c6af21f4fb6b6ba6c06cc63" title="This function will download a frame to the radio transceiver&#39;s transmit buffer..." alt="" coords="195,81,301,108"><area shape="rect" href="group__arm.html#gfdf1c6a3c3867f6c6f29937e9e01bc3b" title="This function will download a frame to the radio transceiver&#39;s frame buffer." alt="" coords="353,5,465,32"><area shape="rect" href="group__radio.html#g80178b680aa26b7a8e1a1ce8a4a824b3" title="This function return the Radio Transceivers current state." alt="" coords="656,106,776,133"><area shape="rect" href="group__radio.html#gb18f99759fd3d798150020e91e7b46e9" title="Check whether the radio chip is busy." alt="" coords="519,106,607,133"><area shape="rect" href="group__radio.html#g9c32d026c082234626f5f900077221bc" title="This function will change the current state of the radio transceiver&#39;s internal..." alt="" coords="351,157,468,184"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gae50bf8d2984eaa38f63903f67ecee2f"></a><!-- doxytag: member="mac_scan.c::store_pandescriptors" ref="gae50bf8d2984eaa38f63903f67ecee2f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void store_pandescriptors           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This will store the actual beacon data into the pan descriptor list after the appropriate pan conditions have been met. 
<p>
See <a class="el" href="group__mac__scan.html#gf084f7bb7346b0573dc67e4dea576d6e">mac_logPanDescriptors()</a>. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00331">331</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

<p>References <a class="el" href="mac_8h-source.html#l00555">ftBeacon::addr</a>, <a class="el" href="mac_8h-source.html#l00525">panDescriptor_t::channelPage</a>, <a class="el" href="mac_8h-source.html#l00521">panDescriptor_t::coorAddrMode</a>, <a class="el" href="mac_8h-source.html#l00523">panDescriptor_t::coordAddr</a>, <a class="el" href="mac_8h-source.html#l00522">panDescriptor_t::coorPANId</a>, <a class="el" href="mac_8h-source.html#l00703">macConfig_t::currentChannel</a>, <a class="el" href="mac_8h-source.html#l00552">ftBeacon::fcf</a>, <a class="el" href="mac_8h-source.html#l00558">ftBeacon::hops</a>, <a class="el" href="mac_8h-source.html#l00527">panDescriptor_t::hopsToCoord</a>, <a class="el" href="mac_8h-source.html#l00524">panDescriptor_t::logicalChannel</a>, <a class="el" href="mac_8h-source.html#l00528">panDescriptor_t::lqi</a>, <a class="el" href="mac_8c-source.html#l00066">mac_buffer_rx</a>, <a class="el" href="mac_8c-source.html#l00056">macConfig</a>, <a class="el" href="mac_8h-source.html#l00554">ftBeacon::panid</a>, <a class="el" href="radio_8c-source.html#l00198">radioGetSavedRssiValue()</a>, and <a class="el" href="mac_8h-source.html#l00529">panDescriptor_t::rssi</a>.</p>

<p>Referenced by <a class="el" href="mac__scan_8c-source.html#l00268">mac_logPanDescriptors()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__mac__scan_gae50bf8d2984eaa38f63903f67ecee2f_cgraph.png" border="0" usemap="#group__mac__scan_gae50bf8d2984eaa38f63903f67ecee2f_cgraph_map" alt=""></center>
<map name="group__mac__scan_gae50bf8d2984eaa38f63903f67ecee2f_cgraph_map">
<area shape="rect" href="group__radio.html#g8a4202486f04e061df72ec19973be447" title="Retrieves the saved RSSI (Received Signal Strength Indication) value." alt="" coords="199,5,361,32"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 8 18:39:09 2009 for RUM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
