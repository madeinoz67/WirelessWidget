<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RUM: ARM-specific platform documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ARM-specific platform documentation</h1>
<p>
<div class="dynheader">
Collaboration diagram for ARM-specific platform documentation:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__arm.png" border="0" alt="" usemap="#group____arm_map">
<map name="group____arm_map">
<area shape="rect" href="group__timer__module.html" title="This module implements a user&#45;friendly timer interface." alt="" coords="348,5,447,32"></map></td></tr></table></center>
</div>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This section contains all of documentation of the ARM-specific parts of RUM. 
<p>
Many of these functions duplicate the functionality of equivalently-named functions written for the AVR controllers.<p>
The SAM7X (ARM) version of RUM only implements the coordinator node. It uses uTasker RTOS - See www.utasker.com for more information. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimerEventT.html">timerEventT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to hold active timers.  <a href="structtimerEventT.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>ARM Timer Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge2faf813b28761733600f4d2e39ea5d6"></a><!-- doxytag: member="arm::val" ref="ge2faf813b28761733600f4d2e39ea5d6" args="" -->
volatile int&nbsp;</td><td class="memItemRight" valign="bottom"><b>val</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbf0a803c9f19fa09bc230ae54a46bb4c"></a><!-- doxytag: member="arm::i" ref="gbf0a803c9f19fa09bc230ae54a46bb4c" args="" -->
u8&nbsp;</td><td class="memItemRight" valign="bottom"><b>i</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb10000604ad2c55873643a81a5c722ee"></a><!-- doxytag: member="arm::event" ref="gb10000604ad2c55873643a81a5c722ee" args="" -->
timer_event_object_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>event</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c">getUniqueID</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a unique timer ID.  <a href="#g8ad2d7780b4815433b88ee56afa2830c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gc3d1d03a2330872d27724c661236d0c3">macSetAlarm_arm</a> (u16 time, void(*callback)(void))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a general purpose timer.  <a href="#gc3d1d03a2330872d27724c661236d0c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gda4375668254f250fab8984b196b630b">macTimerEnd_arm</a> (u8 ID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End the timer specified by ID, before it is expired.  <a href="#gda4375668254f250fab8984b196b630b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gf7a47a3f09d93ded942eb99eb49725f4">timerInit_arm</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The ARM timer initialization procedure requires that the master clock be turned on then the PIO set up then the timer setup.  <a href="#gf7a47a3f09d93ded942eb99eb49725f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gec433a2cc3c9dd468ed833c605625132">timerStart_arm</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">After timer initialization this function will start/restart the timer and clear it.  <a href="#gec433a2cc3c9dd468ed833c605625132"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gfd083c3c1f898db58c9f23b9d37f3c37">ApiTimerIntr</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the timer ISR.  <a href="#gfd083c3c1f898db58c9f23b9d37f3c37"></a><br></td></tr>
<tr><td colspan="2"><br><h2>ARM HAL Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g6e50c01fedb0d29adb0db1e86472583c">debug_spi</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize ARM SPI1.  <a href="#g6e50c01fedb0d29adb0db1e86472583c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#ga3a07afe7144b962b3ed8bb0cbc0b892">frame_length</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the radio ISR handler.  <a href="#ga3a07afe7144b962b3ed8bb0cbc0b892"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g640bfdc193cfea7e0606ee4cce4cd668"></a><!-- doxytag: member="arm::interrupt_source" ref="g640bfdc193cfea7e0606ee4cce4cd668" args="" -->
u8&nbsp;</td><td class="memItemRight" valign="bottom"><b>interrupt_source</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbcf23b389b4bfdac0c12fa93eabeaccf"></a><!-- doxytag: member="arm::radioIsrHandler" ref="gbcf23b389b4bfdac0c12fa93eabeaccf" args="(void)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>radioIsrHandler</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g81961f900ab4d24e766fbd3f40a494f8">spiReadWrite</a> (u8 val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ARM manual SPI function to read/write from SPI1 but does not pull the SPI Select line - software must pull the SPI1 select line separately.  <a href="#g81961f900ab4d24e766fbd3f40a494f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g744509a20fb5485f8baa11c4a958ddc3"></a><!-- doxytag: member="arm::spiInit" ref="g744509a20fb5485f8baa11c4a958ddc3" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>spiInit</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf5ea8985a12feedc3ac25fbb50712183"></a><!-- doxytag: member="arm::hal_init" ref="gf5ea8985a12feedc3ac25fbb50712183" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gf5ea8985a12feedc3ac25fbb50712183">hal_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function initializes the Hardware Abstraction Layer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gfd58b0cad5bbd45b1c4a8d30be4bc11c">hal_register_read</a> (u8 address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function reads data from one of the radio transceiver's registers.  <a href="#gfd58b0cad5bbd45b1c4a8d30be4bc11c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g6e9e307a1b8e39fa9261ee12ced67314">hal_register_write</a> (u8 address, u8 value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function writes a new value to one of the radio transceiver's registers.  <a href="#g6e9e307a1b8e39fa9261ee12ced67314"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gbe3a54dd0c5f0231fb9ef72abd021486">hal_subregister_read</a> (u8 address, u8 mask, u8 position)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function reads the value of a specific subregister.  <a href="#gbe3a54dd0c5f0231fb9ef72abd021486"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g4e55279d2a68db6e6127b853baee2127">hal_subregister_write</a> (u8 address, u8 mask, u8 position, u8 value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function writes a new value to one of the radio transceiver's subregisters.  <a href="#g4e55279d2a68db6e6127b853baee2127"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gf0c93eac551707aea7563b32f33fbff3">hal_frame_read</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function will upload a frame from the radio transceiver's frame buffer.  <a href="#gf0c93eac551707aea7563b32f33fbff3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gfdf1c6a3c3867f6c6f29937e9e01bc3b">hal_frame_write</a> (u8 *write_buffer, u8 length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function will download a frame to the radio transceiver's frame buffer.  <a href="#gfdf1c6a3c3867f6c6f29937e9e01bc3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gf6b5e8653b9c042bbcc693a309847bd7">halGetMacAddr</a> (u8 *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Need to way to set the MAC address of the ARM based PAN Coord.  <a href="#gf6b5e8653b9c042bbcc693a309847bd7"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Macros defined for the radio transceiver's access modes.</h2></td></tr>
<tr><td colspan="2">These functions are implemented as macros since they are used very often and we want to remove the function call overhead. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3204833752e647ea531c2b52556896a4"></a><!-- doxytag: member="arm::HAL_DUMMY_READ" ref="g3204833752e647ea531c2b52556896a4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g3204833752e647ea531c2b52556896a4">HAL_DUMMY_READ</a>&nbsp;&nbsp;&nbsp;(0x00)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dummy value for the SPI. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g78f3e13f7e9451f1407d1459784a6bcb"></a><!-- doxytag: member="arm::HAL_TRX_CMD_RW" ref="g78f3e13f7e9451f1407d1459784a6bcb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g78f3e13f7e9451f1407d1459784a6bcb">HAL_TRX_CMD_RW</a>&nbsp;&nbsp;&nbsp;(0xC0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register Write (short mode). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g872cd4b6290d07d55ada25a53c555623"></a><!-- doxytag: member="arm::HAL_TRX_CMD_RR" ref="g872cd4b6290d07d55ada25a53c555623" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g872cd4b6290d07d55ada25a53c555623">HAL_TRX_CMD_RR</a>&nbsp;&nbsp;&nbsp;(0x80)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register Read (short mode). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd923f1f8219ec9fa5df6ecb35b2449a3"></a><!-- doxytag: member="arm::HAL_TRX_CMD_FW" ref="gd923f1f8219ec9fa5df6ecb35b2449a3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gd923f1f8219ec9fa5df6ecb35b2449a3">HAL_TRX_CMD_FW</a>&nbsp;&nbsp;&nbsp;(0x60)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame Transmit Mode (long mode). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8f15064a339ceac932e2340e11e08376"></a><!-- doxytag: member="arm::HAL_TRX_CMD_FR" ref="g8f15064a339ceac932e2340e11e08376" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g8f15064a339ceac932e2340e11e08376">HAL_TRX_CMD_FR</a>&nbsp;&nbsp;&nbsp;(0x20)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frame Receive Mode (long mode). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g6c1e22fb22a5b17418f3363626f45c19"></a><!-- doxytag: member="arm::HAL_TRX_CMD_SW" ref="g6c1e22fb22a5b17418f3363626f45c19" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g6c1e22fb22a5b17418f3363626f45c19">HAL_TRX_CMD_SW</a>&nbsp;&nbsp;&nbsp;(0x40)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SRAM Write. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g569115305196f391dd35dc583aa286a2"></a><!-- doxytag: member="arm::HAL_TRX_CMD_SR" ref="g569115305196f391dd35dc583aa286a2" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g569115305196f391dd35dc583aa286a2">HAL_TRX_CMD_SR</a>&nbsp;&nbsp;&nbsp;(0x00)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SRAM Read. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbb15aced2fd58c9d237ae34320a1f179"></a><!-- doxytag: member="arm::HAL_TRX_CMD_RADDRM" ref="gbb15aced2fd58c9d237ae34320a1f179" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gbb15aced2fd58c9d237ae34320a1f179">HAL_TRX_CMD_RADDRM</a>&nbsp;&nbsp;&nbsp;(0x7F)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register Address Mask. <br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge4e5a530999557f9d2687e40e8e8a7e1"></a><!-- doxytag: member="arm::MS_PER_TICK" ref="ge4e5a530999557f9d2687e40e8e8a7e1" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#ge4e5a530999557f9d2687e40e8e8a7e1">MS_PER_TICK</a>&nbsp;&nbsp;&nbsp;(1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Milliseconds per tick of the timer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g06e62ae0435abbcb3fb1150edd27ea74">TC_BASE</a>&nbsp;&nbsp;&nbsp;0xFFFA0000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timer/counter base address.  <a href="#g06e62ae0435abbcb3fb1150edd27ea74"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf56431cefe6df0cb68d9dc8501ba9e2b"></a><!-- doxytag: member="arm::TC1_ID" ref="gf56431cefe6df0cb68d9dc8501ba9e2b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gf56431cefe6df0cb68d9dc8501ba9e2b">TC1_ID</a>&nbsp;&nbsp;&nbsp;13</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timer 1 ID. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g010209f2a7e9eab7f6b85faa35e4d0cb"></a><!-- doxytag: member="arm::PID13" ref="g010209f2a7e9eab7f6b85faa35e4d0cb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g010209f2a7e9eab7f6b85faa35e4d0cb">PID13</a>&nbsp;&nbsp;&nbsp;0x00002000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timer 1 ID. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g7880ff5ddcc25e149a53a0a035d8197f"></a><!-- doxytag: member="arm::TC1_CCR" ref="g7880ff5ddcc25e149a53a0a035d8197f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g7880ff5ddcc25e149a53a0a035d8197f">TC1_CCR</a>&nbsp;&nbsp;&nbsp;*(volatile unsigned long*)(TC_BASE + 0x40)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Channel 1 control register address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3df09901adc358c3af7a72843af1c24e"></a><!-- doxytag: member="arm::TC_CLKDIS" ref="g3df09901adc358c3af7a72843af1c24e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g3df09901adc358c3af7a72843af1c24e">TC_CLKDIS</a>&nbsp;&nbsp;&nbsp;0x00000002</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock disable command. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3aae40bd5ffe69026c675780f7bad660"></a><!-- doxytag: member="arm::TC1_CMR" ref="g3aae40bd5ffe69026c675780f7bad660" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g3aae40bd5ffe69026c675780f7bad660">TC1_CMR</a>&nbsp;&nbsp;&nbsp;*(volatile unsigned long*)(TC_BASE + 0x44)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Channel 1 mode register address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gac64030a327b5b5ca4e57e720cb162fa"></a><!-- doxytag: member="arm::TC_CLKS" ref="gac64030a327b5b5ca4e57e720cb162fa" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gac64030a327b5b5ca4e57e720cb162fa">TC_CLKS</a>&nbsp;&nbsp;&nbsp;0x00000007</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock selection mask. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g941d65c427a054ebad1d3b824dbcef54"></a><!-- doxytag: member="arm::TC_CLKS_MCK2" ref="g941d65c427a054ebad1d3b824dbcef54" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g941d65c427a054ebad1d3b824dbcef54">TC_CLKS_MCK2</a>&nbsp;&nbsp;&nbsp;0x00000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Selects MCK / 2. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb0a7259eb672292357f2d785c532a208"></a><!-- doxytag: member="arm::TC_CPCTRG" ref="gb0a7259eb672292357f2d785c532a208" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gb0a7259eb672292357f2d785c532a208">TC_CPCTRG</a>&nbsp;&nbsp;&nbsp;0x00004000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">RC Compare Enable Trigger Enable. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb25fc25035091fc7a07bdd50485ca2b4"></a><!-- doxytag: member="arm::TC_WAVE" ref="gb25fc25035091fc7a07bdd50485ca2b4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gb25fc25035091fc7a07bdd50485ca2b4">TC_WAVE</a>&nbsp;&nbsp;&nbsp;0x00008000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Selects waveform mode. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf820ac80bf91228524d334d1e8991b80"></a><!-- doxytag: member="arm::TC_EEVT_XC1" ref="gf820ac80bf91228524d334d1e8991b80" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gf820ac80bf91228524d334d1e8991b80">TC_EEVT_XC1</a>&nbsp;&nbsp;&nbsp;0x00000800</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">XC1 selected as external event. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2726a72fbf1227fc8211dc418a8bdb39"></a><!-- doxytag: member="arm::TC_BCPC_TOGGLE_OUTPUT" ref="g2726a72fbf1227fc8211dc418a8bdb39" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g2726a72fbf1227fc8211dc418a8bdb39">TC_BCPC_TOGGLE_OUTPUT</a>&nbsp;&nbsp;&nbsp;0x0C000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">RC compare toggles TIOB. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd516a66a1f02f5ca823e273fc0e01db8"></a><!-- doxytag: member="arm::TC1_IER" ref="gd516a66a1f02f5ca823e273fc0e01db8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gd516a66a1f02f5ca823e273fc0e01db8">TC1_IER</a>&nbsp;&nbsp;&nbsp;*(volatile unsigned long*)(TC_BASE + 0x64)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Channel 1 interrupt enable register address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gfc20046b89a2828fdaa0b35408cf1040"></a><!-- doxytag: member="arm::TC1_IDR" ref="gfc20046b89a2828fdaa0b35408cf1040" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gfc20046b89a2828fdaa0b35408cf1040">TC1_IDR</a>&nbsp;&nbsp;&nbsp;*(volatile unsigned long*)(TC_BASE + 0x68)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Channel 1 interrupt disable register address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge5090a7ae689064547f920a7bb9362f9"></a><!-- doxytag: member="arm::TC_CPCS" ref="ge5090a7ae689064547f920a7bb9362f9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#ge5090a7ae689064547f920a7bb9362f9">TC_CPCS</a>&nbsp;&nbsp;&nbsp;0x00000010</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">RC compare flag. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga7aa7a13c96bab9c8720974c7231ed26"></a><!-- doxytag: member="arm::TC1_SR" ref="ga7aa7a13c96bab9c8720974c7231ed26" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#ga7aa7a13c96bab9c8720974c7231ed26">TC1_SR</a>&nbsp;&nbsp;&nbsp;*(volatile unsigned long*)(TC_BASE + 0x60)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status register address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gc2c24256f3f737eb6a3ad5de658a730c"></a><!-- doxytag: member="arm::TC1_RC" ref="gc2c24256f3f737eb6a3ad5de658a730c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gc2c24256f3f737eb6a3ad5de658a730c">TC1_RC</a>&nbsp;&nbsp;&nbsp;*(volatile unsigned long*)(TC_BASE + 0x5C)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Channel 1 register C. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g528d19caa388df147ca8fae91be193d5"></a><!-- doxytag: member="arm::TC_CLKEN" ref="g528d19caa388df147ca8fae91be193d5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g528d19caa388df147ca8fae91be193d5">TC_CLKEN</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock enable command. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gfcebd8f6e7bef145922d447059a1554b"></a><!-- doxytag: member="arm::TC_SWTRG" ref="gfcebd8f6e7bef145922d447059a1554b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gfcebd8f6e7bef145922d447059a1554b">TC_SWTRG</a>&nbsp;&nbsp;&nbsp;0x00000004</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Software trigger command. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g73e8c639f520378d9230fa591f4f3ce4"></a><!-- doxytag: member="arm::AIC_BASE" ref="g73e8c639f520378d9230fa591f4f3ce4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g73e8c639f520378d9230fa591f4f3ce4">AIC_BASE</a>&nbsp;&nbsp;&nbsp;0xFFFFF000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AIC base address. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2d91ee1adc1ef33a042d6d022e980fb8"></a><!-- doxytag: member="arm::AIC_SRCTYPE_INT_EDGE_TRIGGERED" ref="g2d91ee1adc1ef33a042d6d022e980fb8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g2d91ee1adc1ef33a042d6d022e980fb8">AIC_SRCTYPE_INT_EDGE_TRIGGERED</a>&nbsp;&nbsp;&nbsp;0x00000020</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal edge triggered. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gcc89e24d0ce1c62832eac4f6e76cd52a"></a><!-- doxytag: member="arm::HAL_CALCULATED_CRC_OK" ref="gcc89e24d0ce1c62832eac4f6e76cd52a" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gcc89e24d0ce1c62832eac4f6e76cd52a">HAL_CALCULATED_CRC_OK</a>&nbsp;&nbsp;&nbsp;(0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CRC calculated over the frame including the CRC field should be 0. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#ga219513a4f1154944e13866938508692">macEdCallback</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback function, called by the radio ISR function when the radio issues an energy measurement interrupt.  <a href="#ga219513a4f1154944e13866938508692"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#g3f88352450dad51d82e4bf84a0a439a1">delay_us</a> (int us)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The SAM7X main clock, in uTasker, is running at 48MHz.  <a href="#g3f88352450dad51d82e4bf84a0a439a1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gcd592f1b54f0dfee5cfb5333693e17dc"></a><!-- doxytag: member="arm::rx_mode" ref="gcd592f1b54f0dfee5cfb5333693e17dc" args="" -->
u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__arm.html#gcd592f1b54f0dfee5cfb5333693e17dc">rx_mode</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag: are we in RX mode? <br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g06e62ae0435abbcb3fb1150edd27ea74"></a><!-- doxytag: member="arm_timer.h::TC_BASE" ref="g06e62ae0435abbcb3fb1150edd27ea74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TC_BASE&nbsp;&nbsp;&nbsp;0xFFFA0000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Timer/counter base address. 
<p>

<p>Definition at line <a class="el" href="arm__timer_8h-source.html#l00045">45</a> of file <a class="el" href="arm__timer_8h-source.html">arm_timer.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gfd083c3c1f898db58c9f23b9d37f3c37"></a><!-- doxytag: member="arm_timer.c::ApiTimerIntr" ref="gfd083c3c1f898db58c9f23b9d37f3c37" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ApiTimerIntr           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the timer ISR. 
<p>
When the timer interrupt occurs this function is called via the function pointer (vector) previously loaded. 
<p>Definition at line <a class="el" href="arm__timer_8c-source.html#l00278">278</a> of file <a class="el" href="arm__timer_8c-source.html">arm_timer.c</a>.</p>

<p>References <a class="el" href="arm__timer_8h-source.html#l00076">TC1_IDR</a>, <a class="el" href="arm__timer_8h-source.html#l00075">TC1_IER</a>, <a class="el" href="arm__timer_8h-source.html#l00078">TC1_SR</a>, and <a class="el" href="arm__timer_8h-source.html#l00077">TC_CPCS</a>.</p>

<p>Referenced by <a class="el" href="arm__timer_8c-source.html#l00183">timerInit_arm()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3f88352450dad51d82e4bf84a0a439a1"></a><!-- doxytag: member="hal_arm.c::delay_us" ref="g3f88352450dad51d82e4bf84a0a439a1" args="(int us)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_us           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>us</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The SAM7X main clock, in uTasker, is running at 48MHz. 
<p>
This function provides a low precision way of spinning in a delay loop.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>(us)</em>&nbsp;</td><td>The number of us to spend spinning in the loop. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00091">91</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8ad2d7780b4815433b88ee56afa2830c"></a><!-- doxytag: member="arm_timer.c::getUniqueID" ref="g8ad2d7780b4815433b88ee56afa2830c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static u8 getUniqueID           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a unique timer ID. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The unique ID. </dd></dl>

<p>Definition at line <a class="el" href="arm__timer_8c-source.html#l00128">128</a> of file <a class="el" href="arm__timer_8c-source.html">arm_timer.c</a>.</p>

<p>Referenced by <a class="el" href="avr__timer_8c-source.html#l00158">macSetAlarm()</a>, <a class="el" href="arm__timer_8c-source.html#l00081">macSetAlarm_arm()</a>, and <a class="el" href="avr__timer_8c-source.html#l00204">macSetLongAlarm()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf0c93eac551707aea7563b32f33fbff3"></a><!-- doxytag: member="hal_arm.c::hal_frame_read" ref="gf0c93eac551707aea7563b32f33fbff3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_frame_read           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function will upload a frame from the radio transceiver's frame buffer. 
<p>
This function is relocated to SRAM.<p>
If the frame currently available in the radio transceiver's frame buffer is out of the defined bounds. Then the frame length, lqi value and crc be set to zero. This is done to indicate an error. 
<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00388">388</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="radio_8c-source.html#l00218">radioTrxEndEvent()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gfdf1c6a3c3867f6c6f29937e9e01bc3b"></a><!-- doxytag: member="hal_arm.c::hal_frame_write" ref="gfdf1c6a3c3867f6c6f29937e9e01bc3b" args="(u8 *write_buffer, u8 length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_frame_write           </td>
          <td>(</td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>write_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function will download a frame to the radio transceiver's frame buffer. 
<p>
This function is relocated to SRAM.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>write_buffer</em>&nbsp;</td><td>Pointer to data that is to be written to frame buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Length of data. The maximum length is 127 bytes. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00454">454</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="radio_8c-source.html#l00983">radioSendData()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gfd58b0cad5bbd45b1c4a8d30be4bc11c"></a><!-- doxytag: member="hal_arm.c::hal_register_read" ref="gfd58b0cad5bbd45b1c4a8d30be4bc11c" args="(u8 address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 hal_register_read           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function reads data from one of the radio transceiver's registers. 
<p>
This function is relocated to SRAM.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Register address to read from. See datasheet for register map.</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Look at the <a class="el" href="at86rf23x__registermap_8h-source.html">at86rf23x_registermap.h</a> file for register address definitions.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The actual value of the read register. </dd></dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00224">224</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00932">appTask()</a>, <a class="el" href="mac__scan_8c-source.html#l00380">energyScanCallback()</a>, <a class="el" href="hal__arm_8c-source.html#l00341">hal_subregister_read()</a>, <a class="el" href="hal__arm_8c-source.html#l00363">hal_subregister_write()</a>, <a class="el" href="mac__scan_8c-source.html#l00453">macEdCallback()</a>, <a class="el" href="mac__scan_8c-source.html#l00478">macFindClearChannel()</a>, <a class="el" href="radio_8c-source.html#l00161">radioGetPartnum()</a>, and <a class="el" href="rum__application_8c-source.html#l00414">rf2xx_reg_dump()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6e9e307a1b8e39fa9261ee12ced67314"></a><!-- doxytag: member="hal_arm.c::hal_register_write" ref="g6e9e307a1b8e39fa9261ee12ced67314" args="(u8 address, u8 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_register_write           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function writes a new value to one of the radio transceiver's registers. 
<p>
This function is relocated to SRAM.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Look at the <a class="el" href="at86rf23x__registermap_8h-source.html">at86rf23x_registermap.h</a> file for register address definitions.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Address of register to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Value to write. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00278">278</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00746">appInit()</a>, <a class="el" href="rum__application_8c-source.html#l00803">doPing()</a>, <a class="el" href="mac__scan_8c-source.html#l00380">energyScanCallback()</a>, <a class="el" href="hal__arm_8c-source.html#l00363">hal_subregister_write()</a>, <a class="el" href="mac__scan_8c-source.html#l00453">macEdCallback()</a>, <a class="el" href="mac__scan_8c-source.html#l00478">macFindClearChannel()</a>, <a class="el" href="radio_8c-source.html#l00124">radioInit()</a>, <a class="el" href="radio_8c-source.html#l01061">radioSetExtendedAddress()</a>, <a class="el" href="radio_8c-source.html#l00366">radioSetOperatingChannel()</a>, <a class="el" href="radio_8c-source.html#l01028">radioSetPanId()</a>, and <a class="el" href="radio_8c-source.html#l01044">radioSetShortAddress()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbe3a54dd0c5f0231fb9ef72abd021486"></a><!-- doxytag: member="hal_arm.c::hal_subregister_read" ref="gbe3a54dd0c5f0231fb9ef72abd021486" args="(u8 address, u8 mask, u8 position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 hal_subregister_read           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>position</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function reads the value of a specific subregister. 
<p>
This function is relocated to SRAM.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Look at the <a class="el" href="at86rf23x__registermap_8h-source.html">at86rf23x_registermap.h</a> file for register and subregister definitions.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Main register's address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mask</em>&nbsp;</td><td>Bit mask of the subregister. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Bit position of the subregister </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Value</em>&nbsp;</td><td>of the read subregister. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00341">341</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="radio_8c-source.html#l00557">radioBatmonGetStatus()</a>, <a class="el" href="radio_8c-source.html#l00510">radioBatmonGetVoltageRange()</a>, <a class="el" href="radio_8c-source.html#l00495">radioBatmonGetVoltageThreshold()</a>, <a class="el" href="radio_8c-source.html#l00469">radioGetCcaMode()</a>, <a class="el" href="radio_8c-source.html#l00580">radioGetClockSpeed()</a>, <a class="el" href="radio_8c-source.html#l00480">radioGetEdThreshold()</a>, <a class="el" href="radio_8c-source.html#l00349">radioGetOperatingChannel()</a>, <a class="el" href="radio_8c-source.html#l00597">radioGetRssiValue()</a>, <a class="el" href="radio_8c-source.html#l00695">radioGetTrxState()</a>, <a class="el" href="radio_8c-source.html#l00457">radioGetTxPowerLevel()</a>, <a class="el" href="radio_8c-source.html#l01081">radioRandom()</a>, and <a class="el" href="radio_8c-source.html#l00218">radioTrxEndEvent()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g4e55279d2a68db6e6127b853baee2127"></a><!-- doxytag: member="hal_arm.c::hal_subregister_write" ref="g4e55279d2a68db6e6127b853baee2127" args="(u8 address, u8 mask, u8 position, u8 value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_subregister_write           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function writes a new value to one of the radio transceiver's subregisters. 
<p>
This function is relocated to SRAM.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>Look at the <a class="el" href="at86rf23x__registermap_8h-source.html">at86rf23x_registermap.h</a> file for register and subregister definitions.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Main register's address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mask</em>&nbsp;</td><td>Bit mask of the subregister. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Bit position of the subregister </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Value to write into the subregister. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00363">363</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="rum__application_8c-source.html#l00746">appInit()</a>, <a class="el" href="mac_8c-source.html#l00076">macInit()</a>, <a class="el" href="radio_8c-source.html#l00526">radioBatmonConfigure()</a>, <a class="el" href="radio_8c-source.html#l00124">radioInit()</a>, <a class="el" href="radio_8c-source.html#l00897">radioResetStateMachine()</a>, <a class="el" href="radio_8c-source.html#l00635">radioSetClockSpeed()</a>, <a class="el" href="radio_8c-source.html#l01017">radioSetDeviceRole()</a>, <a class="el" href="radio_8c-source.html#l00366">radioSetOperatingChannel()</a>, <a class="el" href="radio_8c-source.html#l00740">radioSetTrxState()</a>, <a class="el" href="radio_8c-source.html#l00433">radioSetTxPowerLevel()</a>, and <a class="el" href="radio_8c-source.html#l00928">radioUseAutoTxCrc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf6b5e8653b9c042bbcc693a309847bd7"></a><!-- doxytag: member="hal_arm.c::halGetMacAddr" ref="gf6b5e8653b9c042bbcc693a309847bd7" args="(u8 *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halGetMacAddr           </td>
          <td>(</td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Need to way to set the MAC address of the ARM based PAN Coord. 
<p>
Should be stored in NVM somewhere. This is a simple example to load MAC address.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>Buffer to copy MAC address to. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00567">567</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga219513a4f1154944e13866938508692"></a><!-- doxytag: member="hal_arm.c::macEdCallback" ref="ga219513a4f1154944e13866938508692" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macEdCallback           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function, called by the radio ISR function when the radio issues an energy measurement interrupt. 
<p>
This function stores the energy measurement for later use. 
<p>Definition at line <a class="el" href="mac__scan_8c-source.html#l00453">453</a> of file <a class="el" href="mac__scan_8c-source.html">mac_scan.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc3d1d03a2330872d27724c661236d0c3"></a><!-- doxytag: member="arm_timer.c::macSetAlarm_arm" ref="gc3d1d03a2330872d27724c661236d0c3" args="(u16 time, void(*callback)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 macSetAlarm_arm           </td>
          <td>(</td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a general purpose timer. 
<p>
Can be called by application. The callback will not be called from the timer ISR, so it is thread-safe.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>time</em>&nbsp;</td><td>Number of milli-seconds to wait before calling the callback function.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>Pointer to a function to call back after the specified time.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>timerEvents.ID The newly created timer ID. </dd></dl>

<p>Definition at line <a class="el" href="arm__timer_8c-source.html#l00081">81</a> of file <a class="el" href="arm__timer_8c-source.html">arm_timer.c</a>.</p>

<p>References <a class="el" href="structtimerEventT.html#e3d4661fd191eb8910aa09649f926050">timerEventT::callback</a>, <a class="el" href="arm__timer_8c-source.html#l00128">getUniqueID()</a>, <a class="el" href="arm__timer_8c-source.html#l00049">timerEventT::ID</a>, <a class="el" href="arm__timer_8c-source.html#l00058">MS_PER_TICK</a>, and <a class="el" href="arm__timer_8c-source.html#l00048">timerEventT::time</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__arm_gc3d1d03a2330872d27724c661236d0c3_cgraph.png" border="0" usemap="#group__arm_gc3d1d03a2330872d27724c661236d0c3_cgraph_map" alt=""></center>
<map name="group__arm_gc3d1d03a2330872d27724c661236d0c3_cgraph_map">
<area shape="rect" href="group__arm.html#g8ad2d7780b4815433b88ee56afa2830c" title="Returns a unique timer ID." alt="" coords="185,5,276,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gda4375668254f250fab8984b196b630b"></a><!-- doxytag: member="arm_timer.c::macTimerEnd_arm" ref="gda4375668254f250fab8984b196b630b" args="(u8 ID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macTimerEnd_arm           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>ID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
End the timer specified by ID, before it is expired. 
<p>
Calling after expiration will not cause any problem.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ID</em>&nbsp;</td><td>The value returned from macSetAlarm when the alarm was set. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="arm__timer_8c-source.html#l00160">160</a> of file <a class="el" href="arm__timer_8c-source.html">arm_timer.c</a>.</p>

<p>References <a class="el" href="arm__timer_8c-source.html#l00048">timerEventT::time</a>.</p>

</div>
</div><p>
<a class="anchor" name="g81961f900ab4d24e766fbd3f40a494f8"></a><!-- doxytag: member="hal_arm.c::spiReadWrite" ref="g81961f900ab4d24e766fbd3f40a494f8" args="(u8 val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 spiReadWrite           </td>
          <td>(</td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ARM manual SPI function to read/write from SPI1 but does not pull the SPI Select line - software must pull the SPI1 select line separately. 
<p>
This function is relocated into SRAM. 
<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00110">110</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="hal__arm_8c-source.html#l00388">hal_frame_read()</a>, and <a class="el" href="hal__arm_8c-source.html#l00454">hal_frame_write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf7a47a3f09d93ded942eb99eb49725f4"></a><!-- doxytag: member="arm_timer.c::timerInit_arm" ref="gf7a47a3f09d93ded942eb99eb49725f4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timerInit_arm           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The ARM timer initialization procedure requires that the master clock be turned on then the PIO set up then the timer setup. 
<p>
Timer setup requires the "frequency" of the interrupt to be set, the interrupt enabled and, finally, the AIC setup - The AIC setup includes loading the ISR function pointer (vector). 
<p>Definition at line <a class="el" href="arm__timer_8c-source.html#l00183">183</a> of file <a class="el" href="arm__timer_8c-source.html">arm_timer.c</a>.</p>

<p>References <a class="el" href="arm__timer_8h-source.html#l00088">AIC_SRCTYPE_INT_EDGE_TRIGGERED</a>, <a class="el" href="arm__timer_8c-source.html#l00278">ApiTimerIntr()</a>, <a class="el" href="arm__timer_8h-source.html#l00048">TC1_CCR</a>, <a class="el" href="arm__timer_8h-source.html#l00050">TC1_CMR</a>, <a class="el" href="arm__timer_8h-source.html#l00046">TC1_ID</a>, <a class="el" href="arm__timer_8h-source.html#l00075">TC1_IER</a>, <a class="el" href="arm__timer_8h-source.html#l00079">TC1_RC</a>, <a class="el" href="arm__timer_8h-source.html#l00078">TC1_SR</a>, <a class="el" href="arm__timer_8h-source.html#l00049">TC_CLKDIS</a>, <a class="el" href="arm__timer_8h-source.html#l00052">TC_CLKS_MCK2</a>, <a class="el" href="arm__timer_8h-source.html#l00077">TC_CPCS</a>, <a class="el" href="arm__timer_8h-source.html#l00066">TC_CPCTRG</a>, and <a class="el" href="arm__timer_8h-source.html#l00067">TC_WAVE</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="group__arm_gf7a47a3f09d93ded942eb99eb49725f4_cgraph.png" border="0" usemap="#group__arm_gf7a47a3f09d93ded942eb99eb49725f4_cgraph_map" alt=""></center>
<map name="group__arm_gf7a47a3f09d93ded942eb99eb49725f4_cgraph_map">
<area shape="rect" href="group__arm.html#gfd083c3c1f898db58c9f23b9d37f3c37" title="This is the timer ISR." alt="" coords="149,5,240,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="gec433a2cc3c9dd468ed833c605625132"></a><!-- doxytag: member="arm_timer.c::timerStart_arm" ref="gec433a2cc3c9dd468ed833c605625132" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timerStart_arm           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
After timer initialization this function will start/restart the timer and clear it. 
<p>
.. 
<p>Definition at line <a class="el" href="arm__timer_8c-source.html#l00246">246</a> of file <a class="el" href="arm__timer_8c-source.html">arm_timer.c</a>.</p>

<p>References <a class="el" href="arm__timer_8h-source.html#l00047">PID13</a>, <a class="el" href="arm__timer_8h-source.html#l00048">TC1_CCR</a>, <a class="el" href="arm__timer_8h-source.html#l00078">TC1_SR</a>, <a class="el" href="arm__timer_8h-source.html#l00049">TC_CLKDIS</a>, <a class="el" href="arm__timer_8h-source.html#l00080">TC_CLKEN</a>, and <a class="el" href="arm__timer_8h-source.html#l00081">TC_SWTRG</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g6e50c01fedb0d29adb0db1e86472583c"></a><!-- doxytag: member="hal_arm.c::debug_spi" ref="g6e50c01fedb0d29adb0db1e86472583c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile u32 <a class="el" href="group__arm.html#g6e50c01fedb0d29adb0db1e86472583c">debug_spi</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize ARM SPI1. 
<p>
SPI Select line is under "manual" control and not controlled by the peripheral (SPI) device. 
<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00129">129</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga3a07afe7144b962b3ed8bb0cbc0b892"></a><!-- doxytag: member="hal_arm.c::frame_length" ref="ga3a07afe7144b962b3ed8bb0cbc0b892" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 <a class="el" href="group__arm.html#ga3a07afe7144b962b3ed8bb0cbc0b892">frame_length</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the radio ISR handler. 
<p>
The dedicated ARM IRQ0 line is used for this interrupt. It is set for a positive edge triggered event with priority 7 - The highest priority.<p>
This function is relocated to SRAM.<p>
The NUT OS is notified via the "NutEventPostFromIrq" which is the only NUT OS supported OS call to be made from an IRQ. 
<p>Definition at line <a class="el" href="hal__arm_8c-source.html#l00504">504</a> of file <a class="el" href="hal__arm_8c-source.html">hal_arm.c</a>.</p>

<p>Referenced by <a class="el" href="hal__arm_8c-source.html#l00388">hal_frame_read()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 8 18:38:59 2009 for RUM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
